/*!
 * tiny.js v0.2.3
 *
 * Copyright (c) 2015, MercadoLibre.com
 * Released under the MIT license.
 * https://raw.githubusercontent.com/mercadolibre/tiny.js/master/LICENSE
 */
!function e(t,n,o){function s(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(r)return r(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return s(n?n:e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)s(o[i]);return s}({1:[function(e,t,n){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}t.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,o,r,i,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(isObject(n))for(r=Array.prototype.slice.call(arguments,1),s=n.slice(),o=s.length,i=0;o>i;i++)s[i].apply(this,r);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,o,r,i;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],r=n.length,o=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(i=r;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){o=i;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){"function"==typeof Object.create?t.exports=function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function inherits(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],3:[function(e,t,n){"use strict";function _interopDefault(e){return e&&"object"===("undefined"==typeof e?"undefined":o(e))&&"default"in e?e["default"]:e}function clone(e){if(void 0===e||"object"!==("undefined"==typeof e?"undefined":o(e)))throw new Error('The "obj" parameter is required and must be an object.');var t={},n=void 0;for(n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function isPlainObject(e){return null==e?!1:"object"!==("undefined"==typeof e?"undefined":o(e))||e.nodeType||e===e.window?!1:!e.constructor||Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf")}function extend(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0,s=void 0,a=arguments[0]||{},c=1,u=arguments.length,l=!1;if("boolean"==typeof a&&(l=a,a=arguments[c]||{},c++),"object"!==("undefined"==typeof a?"undefined":o(a))&&"function"===!("undefined"==typeof a?"undefined":o(a))&&(a={}),c>=u)return a;for(;u>c;c++)if(null!=(e=arguments[c]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&isPlainObject(n)?n:{},a[t]=extend(l,s,r)):void 0!==r&&(a[t]=r));return a}function ajax(e,t){var n=arguments,r=void 0;t=1===n.length?n[0]:n[1];var i=function noop(){},s={url:2===n.length&&"string"==typeof e?e:".",cache:!0,data:null,headers:{},context:null,dataType:"text",method:"GET",credentials:"omit",success:i,error:i,complete:i};r=extend(s,t||{});var a={"application/json":"json","text/html":"html","text/plain":"text"},c={};for(var u in a)a.hasOwnProperty(u)&&(c[a[u]]=u);r.cache||(r.url=r.url+(~r.url.indexOf("?")?"&":"?")+"nc="+Math.floor(9e9*Math.random()));var l=function complete(e,t){r.complete.call(r.context,t,e)},d=function success(e,t){var n="success";r.success.call(r.context,e,n,t),l(n,t)},f=function error(e,t,n){r.error.call(r.context,n,t,e),l(t,n)},p=Object.prototype.toString,v=function normalizeRequestData(e,t,n){var r="charset=UTF-8",i="application/x-www-form-urlencoded; "+r;return"undefined"!=typeof FormData&&e instanceof FormData||/^\[object\s(ArrayBuffer|File|Blob)\]$/.test(p.call(e))?e:"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams||"string"==typeof e?(void 0===t["Content-Type"]&&(t["Content-Type"]=i),e.toString()):null!==e&&"object"===("undefined"==typeof e?"undefined":o(e))?(void 0===t["Content-Type"]&&(n?t["Content-Type"]=i:t["Content-Type"]="application/json;  "+r),JSON.stringify(e)):e};r.method=r.method.toUpperCase();var h=document.createElement("a"),m=document.createElement("a");m.href=location.href;try{h.href=r.url,h.href=h.href,r.crossDomain=m.protocol+"//"+m.host!=h.protocol+"//"+h.host}catch(E){r.crossDomain=!0}var y=new XMLHttpRequest,g=r.crossDomain&&!("withCredentials"in y)&&"XDomainRequest"in window;if(g?(y=new XDomainRequest,y.onload=function(){var e=y.contentType,t=e&&a[e[1]]?a[e[1]].toLowerCase():"json",n=void 0;if("json"===t)try{n=JSON.parse(y.responseText)}catch(o){n=y.responseText}else n=y.responseText;d(n,y)}):y.onreadystatechange=function(){if(4!==y.readyState);else{var e=void 0,t=1223===y.status?204:y.status;if(t>=200&&300>t||304===t){var n=/([\/a-z]+)(;|\s|$)/.exec(y.getResponseHeader("content-type")),o=n&&a[n[1]]?a[n[1]].toLowerCase():"text";if(e=y.responseText,"json"===o)try{e=JSON.parse(e)}catch(i){e=y.responseText}d(e,y)}else f(new Error(y.statusText),"error",y,r)}},y.onerror=function(){f(new Error(y.statusText||"Network request failed"),"error",y,r)},"GET"!==r.method&&"HEAD"!==r.method||"string"!=typeof r.data||(r.url+=(~r.url.indexOf("?")?"&":"?")+r.data),y.open(r.method,r.url),r.dataType&&c[r.dataType.toLowerCase()]&&(r.headers.Accept=c[r.dataType.toLowerCase()]+", */*; q=0.01"),r.crossDomain||r.headers["X-Requested-With"]||(r.headers["X-Requested-With"]="XMLHttpRequest"),"include"===r.credentials&&(y.withCredentials=!0),r.data=v(r.data,r.headers,r.crossDomain),!g)for(var b in r.headers)y.setRequestHeader(b,r.headers[b]);return y.send(r.data),this}function jsonp(e,t){var n=void 0,o=void 0,r=void 0,i=void 0,u=void 0,l=extend({prefix:"__jsonp",param:"callback",timeout:15e3,success:s,error:s},t);return c++,n=l.name?"function"==typeof l.name?l.name(l.prefix,c):l.name:l.prefix+c++,i=function cleanup(){o&&o.parentNode&&o.parentNode.removeChild(o),window[n]=s,r&&clearTimeout(r)},l.timeout&&(r=setTimeout(function(){i(),l.error(new Error("Script loading timeout"))},l.timeout)),window[n]=function(e){i(),l.success(e)},e+=(~e.indexOf("?")?"&":"?")+l.param+"="+encodeURIComponent(n),e=e.replace("?&","?"),o=document.createElement("script"),o.type="text/javascript",o.src=e,o.onerror=function(e){i(),l.error(new Error(e.message||"Script Error"))},a.appendChild(o),u=function cancel(){window[n]&&i()}}function execute(e){if("string"==typeof e){var t=l.cloneNode(!1);t.text=e,d.parentNode.insertBefore(t,d)}else e.apply(window)}function saveInBuffer(e,t){f[e]=t}function finishedTask(e){saveInBuffer(e,null),p=e+1}function executeBuffer(){for(var e=!0,t=void 0,n=p,o=f.length;o>n&&e;)t=f[n],void 0!==t&&null!==t?(execute(t),finishedTask(n),n+=1):e=!1}function loadsAndExecuteScriptsOnChain(){f.length&&!function(){var e=f.pop(),t=void 0;"string"==typeof e?(t=l.cloneNode(!0),t.type="text/javascript",t.async=!0,t.src=e,t.onload=t.onreadystatechange=function(){t.readyState&&!/loaded|complete/.test(t.readyState)||(t.onload=t.onreadystatechange=null,t=void 0,loadsAndExecuteScriptsOnChain())},d.parentNode.insertBefore(t,d)):(e.apply(window),loadsAndExecuteScriptsOnChain())}()}function onloadCORSHandler(e,t){return function(){saveInBuffer(t,e.responseText),executeBuffer(),e=void 0}}function loadWithCORS(){var e,t,n=arguments.length;for(e=0;n>e;e+=1)"string"==typeof arguments[e]?(t=v(arguments[e]),t.onload=onloadCORSHandler(t,f.length),saveInBuffer(f.length,null),t.send()):(saveInBuffer(f.length,arguments[e]),executeBuffer())}function loadWithoutCORS(){f.push(Array.prototype.slice.call(arguments,0).reverse()),loadsAndExecuteScriptsOnChain()}function transitionEnd(){var e=document.createElement("tiny"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return{end:t[n]};return!1}function animationEnd(){var e=document.createElement("tiny"),t={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return{end:t[n]};return!1}function addClass(e,t){y?e.classList.add(t):e.setAttribute("class",e.getAttribute("class")+" "+t)}function removeClass(e,t){y?e.classList.remove(t):e.setAttribute("class",e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}function hasClass(e,t){var n;return n=y?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function parent(e,t){var n=e.parentNode,o=t?t.toUpperCase():t;return null===n?n:1!==n.nodeType?parent(n,o):void 0!==t&&n.tagName===o?n:void 0!==t&&n.tagName!==o?parent(n,o):void 0===t?n:void 0}function next(e){function next(e){do e=e.nextSibling;while(e&&1!==e.nodeType);return e}return e.nextElementSibling||next(e)}function css(e,t,n){var r,i=arguments,s=getElements(e),a=s.length;if("string"==typeof t&&2===i.length)return 0===a?"":getElStyle(s[0],t);3===i.length?r=function setter(e){e.style[t]=n}:"object"===("undefined"==typeof t?"undefined":o(t))&&(r=function setter(e){Object.keys(t).forEach(function(n){e.style[n]=t[n]})});for(var c=0;a>c;c++)r(s[c])}function getElStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.currentStyle[t])}function getElements(e){return e?"string"==typeof e?nodeListToArray(document.querySelectorAll(e)):/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&("number"==typeof e.length||Object.prototype.hasOwnProperty.call(e,"length"))&&e.length>0&&e[0].nodeType>0?nodeListToArray(e):[e]:[]}function nodeListToArray(e){for(var t=0,n=e.length,o=[];n>t;t++)o.push(e[t]);return o}function scroll(){return{left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0}}function offset(e){var t=e.getBoundingClientRect(),n=getFixedParent(e),o=scroll(),r={left:t.left,top:t.top};return"fixed"!==css(e,"position")&&null===n&&(r.left+=o.left,r.top+=o.top),r}function getFixedParent(e){for(var t=e.offsetParent,n=void 0;void 0===n;){if(null===t){n=null;break}"fixed"!==css(t,"position")?t=t.offsetParent:n=t}return n}function get(e){var t=document.cookie.split("; "),n=null,o=t.length;if(!o)return n;for(var r=0;o>r;r++){var i=t[r].split("="),s=decodeURIComponent(i.shift());if(e===s){n=decodeURIComponent(i.join("="));break}}return n}function set(e,t,n){n="object"===("undefined"==typeof n?"undefined":o(n))?n:{expires:n};var r=null!=n.expires?n.expires:b.expires;"string"==typeof r&&""!==r?r=new Date(r):"number"==typeof r&&(r=new Date(+new Date+1e3*w*r)),r&&"toGMTString"in r&&(r=";expires="+r.toGMTString());var i=";path="+(n.path||b.path),s=n.domain||b.domain;s=s?";domain="+s:"";var a=n.secure||b.secure?";secure":"";"object"==("undefined"==typeof t?"undefined":o(t))&&(t=Array.isArray(t)||isPlainObject(t)?JSON.stringify(t):""),document.cookie=encodeCookie(e)+"="+encodeCookie(t)+r+i+s+a}function remove(e){set(e,"",-1)}function isEnabled(){if(navigator.cookieEnabled)return!0;set("__","_");var e="_"===get("__");return remove("__"),e}function encodeCookie(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})}function getElements$1(e){return e?"string"==typeof e?nodeListToArray$1(document.querySelectorAll(e)):/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&("number"==typeof e.length||Object.prototype.hasOwnProperty.call(e,"length"))?0===e.length||e[0].nodeType<1?[]:nodeListToArray$1(e):Array.isArray(e)?[].concat(e):[e]:[]}function nodeListToArray$1(e){for(var t=0,n=e.length,o=[];n>t;t++)o.push(e[t]);return o}function initEvent(e,t){"string"!=typeof e&&(t=e,e=t.type);var n=void 0,o=-1!==L.indexOf(e),r=o&&-1!==_.indexOf(e),i=extend({bubbles:o,cancelable:o,detail:void 0},t);return document.createEvent?(n=document.createEvent(r&&window.MouseEvent?"MouseEvents":"Events"),n.initEvent(e,i.bubbles,i.cancelable,i.detail)):document.createEventObject&&(n=document.createEventObject(window.event),r&&(n.button=1),i.bubbles||(n.cancelBubble=!0)),n}function normalizeEventName(e){return"on"===e.substr(0,2)?x?e.substr(2):e:x?e:"on"+e}function on(e,t,n,o){getElements$1(e).forEach(function(e){e[O](normalizeEventName(t),n,o||!1)})}function once(e,t,n,o){getElements$1(e).forEach(function(e){var r=n;n=function handler(t){return off(e,t.type,n),r.apply(e,arguments)},e[O](normalizeEventName(t),n,o||!1)})}function off(e,t,n){getElements$1(e).forEach(function(e){e[P](normalizeEventName(t),n)})}function trigger(e,t,n){var o=this,r="string"==typeof t?t:t.type;t="string"==typeof t||isPlainObject(t)?initEvent(t,n):t,getElements$1(e).forEach(function(e){t.type in focus&&"function"==typeof o[t.type]?o[t.type]():x?e[C](t):e[C](normalizeEventName(r),t)})}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=_interopDefault(e("inherits")),i=_interopDefault(e("events")),s=function noop(){},a=document.getElementsByTagName("head")[0],c=0,u=window.document,l=u.createElement("script"),d=u.getElementsByTagName("script")[0],f=[],p=0,v=function(){var e=void 0,t=void 0;return window.XMLHttpRequest&&(e=new window.XMLHttpRequest,"withCredentials"in e?t=function CORSRequest(t){return e=new window.XMLHttpRequest,e.open("get",t,!0),e}:window.XDomainRequest&&(t=function CORSRequest(t){return e=new window.XDomainRequest,e.open("get",t),e})),t}(),h=v?loadWithCORS:loadWithoutCORS,m={transition:transitionEnd(),animation:animationEnd(),touch:"ontouchend"in document,customEvent:function(){try{return new CustomEvent(name,{detail:{}}),!0}catch(e){return!1}}()},E=document.createElement("div"),y=!!E.classList,g={addClass:addClass,removeClass:removeClass,hasClass:hasClass},b={expires:"",path:"/",secure:!1,domain:""},w=86400,T={get:get,set:set,remove:remove,isEnabled:isEnabled},L=function(){var e=[];for(var t in document)if("on"===t.substring(0,2)){var n=t.replace("on","");e.push(n)}return e}(),_=L.filter(function(e){return/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/.test(e)}),x=!!document.addEventListener,O=x?"addEventListener":"attachEvent",P=x?"removeEventListener":"detachEvent",C=x?"dispatchEvent":"fireEvent";!Event.prototype.preventDefault&&Object.defineProperties&&Object.defineProperties(window.Event.prototype,{bubbles:{value:!0,writable:!0},cancelable:{value:!0,writable:!0},preventDefault:{value:function value(){this.cancelable&&(this.defaultPrevented=!0,this.returnValue=!1)}},stopPropagation:{value:function value(){this.stoppedPropagation=!0,this.cancelBubble=!0}},stopImmediatePropagation:{value:function value(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}}});var j={on:on,once:once,off:off,trigger:trigger};!function(e){function setTouchTimer(){w=!0,clearTimeout(T),T=setTimeout(function(){w=!1},700)}function getFirstCommonNode(e,t){for(;e;){if(e===document.documentElement||e.contains&&e.contains(t))return e;e=e.parentNode}return null}function dispatchPointerEnter(e,t,n){for(var o=getFirstCommonNode(e,t),r=e,i=[];r&&r!==o;)f(r,"pointerenter")&&i.push(r),r=r.parentNode;for(;i.length>0;)n(i.pop())}function dispatchPointerLeave(e,t,n){for(var o=getFirstCommonNode(e,t),r=e;r&&r!==o;)f(r,"pointerleave")&&n(r),r=r.parentNode}function applySimpleEventTunnels(t,n){["pointerdown","pointermove","pointerup","pointerover","pointerout"].forEach(function(o){e.addEventListener(t(o),function(e){!w&&p(e.target,o)&&n(e,o,!0)})}),void 0===e["on"+t("pointerenter").toLowerCase()]&&e.addEventListener(t("pointerover"),function(t){if(!w){var o=p(t.target,"pointerenter");o&&o!==e&&(o.contains(t.relatedTarget)||dispatchPointerEnter(o,t.relatedTarget,function(e){n(t,"pointerenter",!1,e,t.relatedTarget)}))}}),void 0===e["on"+t("pointerleave").toLowerCase()]&&e.addEventListener(t("pointerout"),function(t){if(!w){var o=p(t.target,"pointerleave");o&&o!==e&&(o.contains(t.relatedTarget)||dispatchPointerLeave(o,t.relatedTarget,function(e){n(t,"pointerleave",!1,e,t.relatedTarget)}))}})}var t="touch",n="pen",o="mouse";if(!e.PointerEvent){var r=!!e.MouseEvent;if(r){var i=["PointerDown","PointerUp","PointerMove","PointerOver","PointerOut","PointerCancel","PointerEnter","PointerLeave"],s=i.map(function(e){return e.toLowerCase()}),a={},c=function checkPreventDefault(t){for(;t&&!t.ch_forcePreventDefault;)t=t.parentNode;return!!t||e.ch_forcePreventDefault},u=function generateTouchClonedEvent(i,s,a,c,u){var l;if(document.createEvent&&r?(l=document.createEvent("MouseEvents"),l.initMouseEvent(s,a,!0,e,1,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,u||i.relatedTarget)):(l=document.createEventObject(),l.screenX=i.screenX,l.screenY=i.screenY,l.clientX=i.clientX,l.clientY=i.clientY,l.ctrlKey=i.ctrlKey,l.altKey=i.altKey,l.shiftKey=i.shiftKey,l.metaKey=i.metaKey,l.button=i.button,l.relatedTarget=u||i.relatedTarget),void 0===l.offsetX&&(void 0!==i.offsetX?(Object&&void 0!==Object.defineProperty&&(Object.defineProperty(l,"offsetX",{writable:!0}),Object.defineProperty(l,"offsetY",{writable:!0})),l.offsetX=i.offsetX,l.offsetY=i.offsetY):Object&&void 0!==Object.defineProperty?(Object.defineProperty(l,"offsetX",{get:function get(){return this.currentTarget&&this.currentTarget.offsetLeft?i.clientX-this.currentTarget.offsetLeft:i.clientX}}),Object.defineProperty(l,"offsetY",{get:function get(){return this.currentTarget&&this.currentTarget.offsetTop?i.clientY-this.currentTarget.offsetTop:i.clientY}})):void 0!==i.layerX&&(l.offsetX=i.layerX-i.currentTarget.offsetLeft,l.offsetY=i.layerY-i.currentTarget.offsetTop)),void 0!==i.isPrimary?l.isPrimary=i.isPrimary:l.isPrimary=!0,i.pressure)l.pressure=i.pressure;else{var d=0;void 0!==i.which?d=i.which:void 0!==i.button&&(d=i.button),l.pressure=0===d?0:.5}if(i.rotation?l.rotation=i.rotation:l.rotation=0,i.hwTimestamp?l.hwTimestamp=i.hwTimestamp:l.hwTimestamp=0,i.tiltX?l.tiltX=i.tiltX:l.tiltX=0,i.tiltY?l.tiltY=i.tiltY:l.tiltY=0,i.height?l.height=i.height:l.height=0,i.width?l.width=i.width:l.width=0,l.preventDefault=function(){void 0!==i.preventDefault&&i.preventDefault()},void 0!==l.stopPropagation){var f=l.stopPropagation;l.stopPropagation=function(){void 0!==i.stopPropagation&&i.stopPropagation(),f.call(this)}}switch(l.pointerId=i.pointerId,l.pointerType=i.pointerType,l.pointerType){case 2:l.pointerType=t;break;case 3:l.pointerType=n;break;case 4:l.pointerType=o}c?c.dispatchEvent(l):i.target&&r?i.target.dispatchEvent(l):i.srcElement.fireEvent("on"+h(s),l)},l=function generateMouseProxy(e,t,n,r,i){e.pointerId=1,e.pointerType=o,u(e,t,n,r,i)},d=function generateTouchEventProxy(e,n,o,r,i,s){var a=n.identifier+2;n.pointerId=a,n.pointerType=t,n.currentTarget=o,void 0!==r.preventDefault&&(n.preventDefault=function(){r.preventDefault()}),u(n,e,i,o,s)},f=function checkEventRegistration(e,t){return e.__chGlobalRegisteredEvents&&e.__chGlobalRegisteredEvents[t]},p=function findEventRegisteredNode(t,n){for(;t&&!f(t,n);)t=t.parentNode;return t?t:f(e,n)?e:void 0},v=function generateTouchEventProxyIfRegistered(e,t,n,o,r,i){p(n,e)&&d(e,t,n,o,r,i)},h=function getMouseEquivalentEventName(e){return e.toLowerCase().replace("pointer","mouse")},m=function getPrefixEventName(e,t){var n=s.indexOf(t),o=e+i[n];return o},E=function registerOrUnregisterEvent(e,t,n,o){if(void 0===e.__chRegisteredEvents&&(e.__chRegisteredEvents=[]),o){if(void 0!==e.__chRegisteredEvents[t])return void e.__chRegisteredEvents[t]++;e.__chRegisteredEvents[t]=1,e.addEventListener(t,n,!1)}else{if(-1!==e.__chRegisteredEvents.indexOf(t)&&(e.__chRegisteredEvents[t]--,0!==e.__chRegisteredEvents[t]))return;e.removeEventListener(t,n),e.__chRegisteredEvents[t]=0}},y=function setTouchAware(t,n,o){if(t.__chGlobalRegisteredEvents||(t.__chGlobalRegisteredEvents=[]),o){if(void 0!==t.__chGlobalRegisteredEvents[n])return void t.__chGlobalRegisteredEvents[n]++;t.__chGlobalRegisteredEvents[n]=1}else void 0!==t.__chGlobalRegisteredEvents[n]&&(t.__chGlobalRegisteredEvents[n]--,t.__chGlobalRegisteredEvents[n]<0&&(t.__chGlobalRegisteredEvents[n]=0));var r,i;switch(e.MSPointerEvent?(r=function nameGenerator(e){return m("MS",e)},i=u):(r=h,i=l),n){case"pointerenter":case"pointerleave":var s=r(n);void 0!==t["on"+s.toLowerCase()]&&E(t,s,function(e){i(e,n)},o)}},g=function interceptAddEventListener(e){var t=e.prototype?e.prototype.addEventListener:e.addEventListener,n=function customAddEventListener(e,n,o){-1!==s.indexOf(e)&&y(this,e,!0),void 0===t?this.attachEvent("on"+h(e),n):t.call(this,e,n,o)};e.prototype?e.prototype.addEventListener=n:e.addEventListener=n},b=function interceptRemoveEventListener(e){var t=e.prototype?e.prototype.removeEventListener:e.removeEventListener,n=function customRemoveEventListener(e,n,o){-1!==s.indexOf(e)&&y(this,e,!1),void 0===t?this.detachEvent(h(e),n):t.call(this,e,n,o)};e.prototype?e.prototype.removeEventListener=n:e.removeEventListener=n};g(e),g(e.HTMLElement||e.Element),g(document),g(HTMLBodyElement),g(HTMLDivElement),g(HTMLImageElement),g(HTMLUListElement),g(HTMLAnchorElement),g(HTMLLIElement),g(HTMLTableElement),e.HTMLSpanElement&&g(HTMLSpanElement),e.HTMLCanvasElement&&g(HTMLCanvasElement),e.SVGElement&&g(SVGElement),b(e),b(e.HTMLElement||e.Element),b(document),b(HTMLBodyElement),b(HTMLDivElement),b(HTMLImageElement),b(HTMLUListElement),b(HTMLAnchorElement),b(HTMLLIElement),b(HTMLTableElement),e.HTMLSpanElement&&b(HTMLSpanElement),e.HTMLCanvasElement&&b(HTMLCanvasElement),e.SVGElement&&b(SVGElement);var w=!1,T=-1;!function(){e.MSPointerEvent?applySimpleEventTunnels(function(e){return m("MS",e)},u):(applySimpleEventTunnels(h,l),void 0!==e.ontouchstart&&(e.addEventListener("touchstart",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t];a[n.identifier]=n.target,v("pointerover",n,n.target,e,!0),dispatchPointerEnter(n.target,null,function(t){d("pointerenter",n,t,e,!1)}),v("pointerdown",n,n.target,e,!0)}setTouchTimer()}),e.addEventListener("touchend",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t],o=a[n.identifier];o&&(v("pointerup",n,o,e,!0),v("pointerout",n,o,e,!0),dispatchPointerLeave(o,null,function(t){d("pointerleave",n,t,e,!1)}),delete a[n.identifier])}setTouchTimer()}),e.addEventListener("touchmove",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t],o=document.elementFromPoint(n.clientX,n.clientY),r=a[n.identifier];r&&c(r)===!0&&e.preventDefault(),e.cancelable?(v("pointermove",n,r,e,!0),r!==o&&(r&&(v("pointerout",n,r,e,!0,o),r.contains(o)||dispatchPointerLeave(r,o,function(t){d("pointerleave",n,t,e,!1,o)})),o&&(v("pointerover",n,o,e,!0,r),o.contains(r)||dispatchPointerEnter(o,r,function(t){d("pointerenter",n,t,e,!1,r)})),a[n.identifier]=o)):(delete a[n.identifier],v("pointercancel",n,r,e,!0),v("pointerout",n,r,e,!0),dispatchPointerLeave(r,null,function(t){d("pointerleave",n,t,e,!1)}))}setTouchTimer()}),e.addEventListener("touchcancel",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t];v("pointercancel",n,a[n.identifier],e,!0)}})))}(),void 0===navigator.pointerEnabled&&(navigator.pointerEnabled=!0,navigator.msPointerEnabled&&(navigator.maxTouchPoints=navigator.msMaxTouchPoints))}}}(window),function(){function pointerDown(i){var s=i.pointerType===o||i.pointerType===n||i.pointerType===t&&i.isPrimary;!r&&s&&(e={id:i.pointerId,clientX:i.clientX,clientY:i.clientY,x:i.x||i.pageX,y:i.y||i.pageY,type:i.pointerType})}function pointerLeave(){e=null}function pointerUp(t){e&&e.id===t.pointerId&&Math.abs(e.x-(t.x||t.pageX))<5&&Math.abs(e.y-(t.y||t.pageY))<5&&(!r||Math.abs(s-window.pageXOffset)<5&&Math.abs(a-window.pageYOffset)<5)&&makePointertapEvent(t),e=null}function makePointertapEvent(e){var t=document.createEvent("MouseEvents"),n=document.elementFromPoint(e.clientX,e.clientY);return n?(t.initMouseEvent("pointertap",!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,n),t.maskedEvent=e,n.dispatchEvent(t),t):null}if(window.MouseEvent){var e,t="touch",n="pen",o="mouse",r=!1,i=!1,s=0,a=0;window.addEventListener("scroll",function(){r||(s=window.pageXOffset,a=window.pageYOffset),r=!0,clearTimeout(i),i=setTimeout(function(){r=!1,s=0,a=0},100)}),window.addEventListener("pointerdown",pointerDown),window.addEventListener("pointerup",pointerUp),window.addEventListener("pointerleave",pointerLeave),window.addEventListener("pointermove",function(){})}}();var M=!!window.MouseEvent,R="layoutchange",S="resize",X="scroll",A=M?"pointerdown":"mousedown",N=M?"pointerup":"mouseup",D=M?"pointermove":"mousemove",H=m.touch&&M?"pointertap":"click",k=M?"pointerenter":"mouseenter",Y=M?"pointerleave":"mouseleave",q="oninput"in document.createElement("input")?"input":"keydown",U=Object.freeze({onlayoutchange:R,onresize:S,onscroll:X,onpointerdown:A,onpointerup:N,onpointermove:D,onpointertap:H,onpointerenter:k,onpointerleave:Y,onkeyinput:q}),F={clone:clone,extend:extend,inherits:r,EventEmitter:i,ajax:ajax,jsonp:jsonp,jcors:h,isPlainObject:isPlainObject,support:m,addClass:g.addClass,removeClass:g.removeClass,hasClass:g.hasClass,parent:parent,next:next,css:css,offset:offset,scroll:scroll,cookies:T,on:j.on,bind:j.on,one:j.once,once:j.once,off:j.off,trigger:j.trigger};for(var I in U)F[I]=U[I];"undefined"!=typeof window&&(window.tiny=F),t.exports=F},{events:1,inherits:2}]},{},[3]);
/*! Chico UI v2.0.6 chico-ui.com.ar | chico-ui.com.ar/license */
!function(window){"use strict";var ch=function(selector,context){return context?"string"==typeof context&&(context=document.querySelector(context)):context=document,"object"==typeof context&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(context))&&Object.prototype.hasOwnProperty.call(context,"length")&&context.length>0&&context[0].nodeType>0&&(context=context[0]),null!==context&&context.nodeType||(context=document),context.querySelectorAll(selector)};ch.onkeytab="tab",ch.onkeyenter="enter",ch.onkeyesc="esc",ch.onkeyleftarrow="left_arrow",ch.onkeyuparrow="up_arrow",ch.onkeyrightarrow="right_arrow",ch.onkeydownarrow="down_arrow",ch.onkeybackspace="backspace",ch.factory=function(Klass){var name=Klass.prototype.name;ch[name.charAt(0).toUpperCase()+name.substr(1)]=Klass},tiny.removeClass(document.documentElement,"no-js");for(var m in tiny)/^on\w+/.test(m)&&"string"==typeof tiny[m]&&(ch[m]=tiny[m]);ch.version="2.0.6",window.ch=ch}(this),function(ch){"use strict";function Content(){function setAsyncContent(event){that._content.innerHTML=event.response,that.emit("_contentchange"),that.emit("content"+event.status,event)}function setContent(content){void 0!==content.nodeType?(that._content.innerHTML="",that._content.appendChild(content)):that._content.innerHTML=content,that._options.cache=!0,that.emit("_contentchange"),that.emit("contentdone")}function getAsyncContent(url,options){var requestCfg;options=tiny.extend({method:"GET",params:"",waiting:'<div class="ch-loading-large"></div>'},defaults,options),setAsyncContent({status:"waiting",response:options.waiting}),requestCfg={method:options.method,success:function(resp){setAsyncContent({status:"done",response:resp})},error:function(err){setAsyncContent({status:"error",response:"<p>Error on ajax call.</p>",data:err.message||JSON.stringify(err)})}},void 0!==options.cache&&(that._options.cache=options.cache),options.cache===!1&&["GET","HEAD"].indexOf(options.method.toUpperCase())!==-1&&(requestCfg.cache=!1),options.params&&(["GET","HEAD"].indexOf(options.method.toUpperCase())!==-1?url+=(url.indexOf("?")!==-1||"?"===options.params[0]?"":"?")+options.params:requestCfg.data=options.params),tiny.ajax(url,requestCfg)}var that=this,defaults={method:this._options.method,params:this._options.params,cache:this._options.cache,waiting:this._options.waiting};this.content=function(content,options){var parent;return void 0===content?that._content.innerHTML:(that._options.content=content,void 0===that._options.cache&&(that._options.cache=!0),"string"==typeof content?/^(((https|http|ftp|file):\/\/)|www\.|\.\/|(\.\.\/)+|(\/{1,2})|(\d{1,3}\.){3}\d{1,3})(((\w+|-)(\.?)(\/?))+)(\:\d{1,5}){0,1}(((\w+|-)(\.?)(\/?)(#?))+)((\?)(\w+=(\w?)+(&?))+)?(\w+#\w+)?$/.test(content)?getAsyncContent(content.replace(/#.+/,""),options):setContent(content):void 0!==content.nodeType&&(tiny.removeClass(content,"ch-hide"),parent=tiny.parent(content),setContent(content),that._options.cache||parent.removeChild(content)),that)},this.once("_show",function(){that.content(that._options.content),that.on("show",function(){that._options.cache||that.content(that._options.content)})})}ch.Content=Content}(this.ch),function(ch){"use strict";function Collapsible(){function showCallback(e){useEffects&&(tiny.removeClass(that.container,"ch-fx-"+fx),/^slide/.test(fx)&&(that.container.style.height="")),tiny.removeClass(that.container,"ch-hide"),that.container.setAttribute("aria-hidden","false"),e&&e.target.removeEventListener(e.type,showCallback),that.emit("show")}function hideCallback(e){useEffects&&(tiny.removeClass(that.container,"ch-fx-"+toggleEffects[fx]),that.container.style.display="",/^slide/.test(fx)&&(that.container.style.height="")),tiny.addClass(that.container,"ch-hide"),that.container.setAttribute("aria-hidden","true"),e&&e.target.removeEventListener(e.type,hideCallback),that.emit("hide")}var pt,pb,that=this,triggerClass="ch-"+this.name+"-trigger-on",fx=this._options.fx,useEffects=tiny.support.transition&&"none"!==fx&&fx!==!1;this._shown=!1,this._show=function(){if(that._shown=!0,void 0!==that.trigger&&tiny.addClass(that.trigger,triggerClass),that.emit("beforeshow"),useEffects){var _h=0;tiny.off(that.container,tiny.support.transition.end,hideCallback),tiny.removeClass(that.container,"ch-fx-"+toggleEffects[fx]),tiny.on(that.container,tiny.support.transition.end,showCallback),that.container.style.display="block",/^slide/.test(fx)&&(pt&&pb||(pt=tiny.css(that.container,"padding-top"),pb=tiny.css(that.container,"padding-bottom"),that.container.style.marginTop=that.container.style.marginBottom=that.container.style.paddingTop=that.container.style.paddingBottom="0px"),that.container.style.opacity="0.01",_h=that.container.offsetHeight,that.container.style.opacity="",that.container.style.height="0px"),setTimeout(function(){/^slide/.test(fx)&&(that.container.style.height=_h+"px"),that.container.style.paddingTop=pt,that.container.style.paddingBottom=pb,tiny.addClass(that.container,"ch-fx-"+fx)},0)}else showCallback();return that.emit("_show"),that},this._hide=function(){return that._shown=!1,void 0!==that.trigger&&tiny.removeClass(that.trigger,triggerClass),that.emit("beforehide"),useEffects?(tiny.off(that.container,tiny.support.transition.end,showCallback),tiny.removeClass(that.container,"ch-fx-"+fx),tiny.on(that.container,tiny.support.transition.end,hideCallback),/^slide/.test(fx)?(that.container.style.height=tiny.css(that.container,"height"),setTimeout(function(){that.container.style.height="0px",that.container.style.paddingTop=that.container.style.paddingBottom="0px",tiny.addClass(that.container,"ch-fx-"+toggleEffects[fx])},0)):setTimeout(function(){tiny.addClass(that.container,"ch-fx-"+toggleEffects[fx])},0)):hideCallback(),that},this._toggle=function(){return that._shown?that.hide():that.show(),that},this.on("disable",this.hide)}var toggleEffects={slideDown:"slideUp",slideUp:"slideDown",fadeIn:"fadeOut",fadeOut:"fadeIn"};ch.Collapsible=Collapsible}(this.ch),function(window,ch){"use strict";function update(){var eve=resized?ch.onresize:ch.onscroll;this.refresh(),resized=!1,scrolled=!1,this.emit(eve)}function Viewport(){this._init()}var resized=!1,scrolled=!1,requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}();tiny.inherits(Viewport,tiny.EventEmitter),Viewport.prototype._init=function(){function viewportResize(){resized||(resized=!0,requestAnimFrame(function(){update.call(that)}))}function viewportScroll(){scrolled||(scrolled=!0,requestAnimFrame(function(){update.call(that)}))}this.setMaxListeners(0);var that=this;this.el=window,this.refresh(),tiny.on(window,ch.onscroll,viewportScroll,!1),tiny.on(window,ch.onresize,viewportResize,!1)},Viewport.prototype.calculateClientRect=function(){return this.top=this.left=0,this.bottom=Math.max(this.el.innerHeight||0,document.documentElement.clientHeight),this.right=Math.max(this.el.innerWidth||0,document.documentElement.clientWidth),this},Viewport.prototype.calculateDimensions=function(){return this.calculateClientRect(),this.height=this.bottom,this.width=this.right,this},Viewport.prototype.calculateOffset=function(){var scroll=tiny.scroll();return this.offsetTop=scroll.top,this.offsetLeft=scroll.left,this.offsetRight=this.left+this.width,this.offsetBottom=this.offsetTop+this.height,this},Viewport.prototype.calculateOrientation=function(){return this.orientation=90===Math.abs(this.el.orientation)?"landscape":"portrait",this},Viewport.prototype.inViewport=function(el){var r=el.getBoundingClientRect();return r.top>0&&r.right<this.width&&r.bottom<this.height&&r.left>0},Viewport.prototype.isVisible=function(el){var r=el.getBoundingClientRect();return r.height>=this.offsetTop},Viewport.prototype.refresh=function(){return this.calculateDimensions(),this.calculateOffset(),this.calculateOrientation(),this},ch.viewport=new Viewport}(this,this.ch),function(window,ch){"use strict";function Positioner(options){if(void 0===options)throw new window.Error("ch.Positioner: Expected options defined.");this._options=tiny.clone(this._defaults),this._configure(options)}Positioner.prototype.name="positioner",Positioner.prototype._constructor=Positioner,Positioner.prototype._defaults={offsetX:0,offsetY:0,side:"center",align:"center",reference:ch.viewport,position:"fixed"},Positioner.prototype._configure=function(options){return tiny.extend(this._options,options),this._options.offsetX=parseInt(this._options.offsetX,10),this._options.offsetY=parseInt(this._options.offsetY,10),this.target=options.target||this.target,this.reference=options.reference||this.reference,this._reference=this._options.reference,this.target.style.position=this._options.position,this},Positioner.prototype.refresh=function(options){return void 0!==options&&this._configure(options),this._reference!==ch.viewport&&this._calculateReference(),this._calculateTarget(),this._setPoint(),this},Positioner.prototype._calculateReference=function(){var offset,reference=this.reference;return reference.setAttribute("data-side",this._options.side),reference.setAttribute("data-align",this._options.align),this._reference=this._getOuterDimensions(reference),reference.offsetParent===this.target.offsetParent?(this._reference.left=reference.offsetLeft,this._reference.top=reference.offsetTop):(offset=tiny.offset(reference),this._reference.left=offset.left,this._reference.top=offset.top),this},Positioner.prototype._calculateTarget=function(){var target=this.target;return target.setAttribute("data-side",this._options.side),target.setAttribute("data-align",this._options.align),this._target=this._getOuterDimensions(target),this},Positioner.prototype._getOuterDimensions=function(el){var obj=el.getBoundingClientRect();return{width:obj.right-obj.left,height:obj.bottom-obj.top}},Positioner.prototype._setPoint=function(){var coors,orientationMap,side=this._options.side,orientation="top"===side||"bottom"===side?"horizontal":"right"===side||"left"===side?"vertical":"center";return"center"===orientation?coors={top:this._reference.top+(this._reference.height/2-this._target.height/2),left:this._reference.left+(this._reference.width/2-this._target.width/2)}:"horizontal"===orientation?(orientationMap={left:this._reference.left,center:this._reference.left+(this._reference.width/2-this._target.width/2),right:this._reference.left+this._reference.width-this._target.width,top:this._reference.top-this._target.height,bottom:this._reference.top+this._reference.height},coors={top:orientationMap[side],left:orientationMap[this._options.align]}):(orientationMap={top:this._reference.top,center:this._reference.top+(this._reference.height/2-this._target.height/2),bottom:this._reference.top+this._reference.height-this._target.height,right:this._reference.left+this._reference.width,left:this._reference.left-this._target.width},coors={top:orientationMap[this._options.align],left:orientationMap[side]}),coors.top+=this._options.offsetY,coors.left+=this._options.offsetX,this.target.style.top=coors.top+"px",this.target.style.left=coors.left+"px",this},ch.Positioner=Positioner}(this,this.ch),function(window,ch){"use strict";var document=window.document,codeMap={8:ch.onkeybackspace,9:ch.onkeytab,13:ch.onkeyenter,27:ch.onkeyesc,37:ch.onkeyleftarrow,38:ch.onkeyuparrow,39:ch.onkeyrightarrow,40:ch.onkeydownarrow},shortcuts={_active:null,_queue:[],_collection:{},add:function(shortcut,name,callback){return void 0===this._collection[name]&&(this._collection[name]={}),void 0===this._collection[name][shortcut]&&(this._collection[name][shortcut]=[]),this._collection[name][shortcut].push(callback),this},remove:function(name,shortcut,callback){var evt,evtCollection,evtCollectionLenght;if(void 0===name)throw new Error('Shortcuts - "remove(name, shortcut, callback)": "name" parameter must be defined.');if(void 0===shortcut)return delete this._collection[name],this;if(void 0===callback)return delete this._collection[name][shortcut],this;for(evtCollection=this._collection[name][shortcut],evtCollectionLenght=evtCollection.length,evt=0;evt<evtCollectionLenght;evt+=1)evtCollection[evt]===callback&&evtCollection.splice(evt,1);return this},on:function(name){var queueLength=this._queue.length,item=queueLength-1;for(item;item>=0;item-=1)this._queue[item]===name&&this._queue.splice(item,1);return this._queue.push(name),this._active=name,this},off:function(name){var queueLength=this._queue.length,item=queueLength-1;for(item;item>=0;item-=1)this._queue[item]===name&&(this._queue.splice(item,1),this._queue.length>0?this._active=this._queue[this._queue.length-1]:this._active=null);return this}},shortcutsEmitter=function(event){var callbacks,callbacksLenght,keyCode=event.keyCode.toString(),shortcut=codeMap[keyCode],i=0;if(void 0!==shortcut&&null!==shortcuts._active&&(callbacks=shortcuts._collection[shortcuts._active][shortcut],event.shortcut=shortcut,void 0!==callbacks))for(callbacksLenght=callbacks.length,i=0;i<callbacksLenght;i+=1)callbacks[i](event)};tiny.on(document,"keydown",shortcutsEmitter),ch.shortcuts=shortcuts}(this,this.ch),function(window,ch){"use strict";function Component(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}var uid=0;tiny.inherits(Component,tiny.EventEmitter),Component.prototype.name="component",Component.prototype.constructor=Component,Component.prototype._init=function(el,options){this.setMaxListeners(0);var defaults=this._defaults?tiny.clone(this._defaults):{};if(null===el)throw new Error('The "el" parameter is not present in the DOM');this.uid=uid+=1,void 0!==el&&void 0!==el.nodeType&&1===el.nodeType?(this._el=el,this._el.setAttribute("data-uid",this.uid),this._options=tiny.extend(defaults,options)):(void 0===el||void 0===el.nodeType&&"object"==typeof el)&&(this._options=tiny.extend(defaults,el)),this._enabled=!0,ch.instances=ch.instances||{},ch.instances[this.uid]=this},Component.prototype.require=function(){var arg,i=0,len=arguments.length;for(i;i<len;i+=1)arg=arguments[i],void 0===this[arg.toLowerCase()]&&ch[arg].call(this);return this},Component.prototype.enable=function(){return this._enabled=!0,this.emit("enable"),this},Component.prototype.disable=function(){return this._enabled=!1,this.emit("disable"),this},Component.prototype.destroy=function(){this.disable(),void 0!==this._el&&(delete ch.instances[this._el.getAttribute("data-uid")],this._el.removeAttribute("data-uid")),this.emit("destroy")},ch.Component=Component}(this,this.ch),function(window,ch){"use strict";function Form(el,options){var that=this;that._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Form,ch.Component);var parent=Form.super_.prototype;Form.prototype.name="form",Form.prototype.constructor=Form,Form.prototype._init=function(el,options){parent._init.call(this,el,options);var that=this;return this.errors=[],this._messages=this._options.messages||{},this.validations=[],this.container=this._el,tiny.addClass(this.container,"ch-form"),this.container.setAttribute("novalidate","novalidate"),tiny.on(this.container,"submit",function(event){that.validate(event)}),this.container.querySelector('input[type="reset"]')&&tiny.on(this.container.querySelector('input[type="reset"]'),ch.onpointertap,function(event){event.preventDefault(),that.reset()}),this.on("error",function(){}),this.on("disable",this.clear),this},Form.prototype.validate=function(event){if(!this._enabled)return this;this.emit("beforevalidate");var validation,firstError,firstErrorVisible,triggerError,that=this,i=0,j=that.validations.length;for(this.errors.length=0,i;i<j;i+=1)validation=that.validations[i],validation.validate(),validation.isShown()&&that.errors.push(validation);if(that.errors.length>0){for(firstError=that.errors[0],firstErrorVisible=firstError.trigger;"none"===tiny.css(firstErrorVisible,"display")&&firstErrorVisible!==document.documentElement;)firstErrorVisible=firstErrorVisible.parentElement;firstErrorVisible.scrollIntoView(),triggerError=firstError.trigger,"DIV"===triggerError.tagName&&firstError.trigger.querySelector("input:first-child").focus(),"hidden"===triggerError.type&&"SELECT"!==triggerError.tagName||triggerError.focus(),event&&event.preventDefault&&event.preventDefault(),this.emit("error",this.errors)}else this.emit("success",event);return this},Form.prototype.hasError=function(){if(!this._enabled)return!1;this.errors.length=0;var validation,i=0,j=this.validations.length;for(i;i<j;i+=1)validation=this.validations[i],validation.hasError()&&this.errors.push(validation);return this.errors.length>0},Form.prototype.clear=function(){var i=0,j=this.validations.length;for(i;i<j;i+=1)this.validations[i].clear();return this.emit("clear"),this},Form.prototype.reset=function(){return this.clear(),this._el.reset(),this.emit("reset"),this},Form.prototype.destroy=function(){this.container.removeAttribute("novalidate"),this.validations.forEach(function(e){e.destroy()}),parent.destroy.call(this)},ch.factory(Form)}(this,this.ch),function(ch){"use strict";function Condition(condition){return tiny.extend(this,conditions[condition.name],condition),"min"!==this.name&&"max"!==this.name&&"minLength"!==this.name&&"maxLength"!==this.name||(this.message=this.message.replace("{#num#}",this.num)),this._enabled=!0,this}var conditions={string:{fn:function(value){return/^([a-zA-Z\u00C0-\u00C4\u00C8-\u00CF\u00D2-\u00D6\u00D9-\u00DC\u00E0-\u00E4\u00E8-\u00EF\u00F2-\u00F6\u00E9-\u00FC\u00C7\u00E7\s]*)$/i.test(value)},message:"Use only letters."},email:{fn:function(value){return/^[a-zA-Z0-9.!#$%&’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/i.test(value)},message:"Use a valid e-mail such as name@example.com."},url:{fn:function(value){return/^((https?|ftp|file):\/\/|((www|ftp)\.)|(\/|.*\/)*)[a-z0-9-]+((\.|\/)[a-z0-9-]+)+([\/?].*)?$/i.test(value)},message:"It must be a valid URL."},minLength:{fn:function(a,b){return a.length>=b},message:"Enter at least {#num#} characters."},maxLength:{fn:function(a,b){return a.length<=b},message:"The maximum amount of characters is {#num#}."},number:{fn:function(value){return/^(-?[0-9]+)$/i.test(value)},message:"Use only numbers."},max:{fn:function(a,b){return a<=b},message:"The amount must be smaller than {#num#}."},min:{fn:function(a,b){return a>=b},message:"The amount must be higher than {#num#}."},required:{fn:function(value){var validated,tag=tiny.hasClass(this.trigger,"ch-form-options")?"OPTIONS":this._el.tagName;switch(tag){case"OPTIONS":validated=0!==this.trigger.querySelectorAll("input:checked").length;break;case"SELECT":validated="-1"!==value&&""!==value;break;default:validated=0!==value.replace(/^\s+|\s+$/g,"").length}return validated},message:"Fill in this information."},custom:{message:"Error"}};Condition.prototype.name="condition",Condition.prototype.constructor=Condition,Condition.prototype.enable=function(){return this._enabled=!0,this},Condition.prototype.disable=function(){return this._enabled=!1,this},Condition.prototype.test=function(value,validation){return!this._enabled||this.fn.call(validation,value,this.num)},ch.Condition=Condition}(this.ch),function(window,ch){"use strict";function Validation(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}function createMethods(method){Validation.prototype[method]=function(condition){var key;if(void 0!==condition&&void 0!==this.conditions[condition])this.conditions[condition][method]();else{for(key in this.conditions)void 0!==this.conditions[key]&&this.conditions[key][method]();parent[method].call(this)}return this}}tiny.inherits(Validation,ch.Component);var parent=Validation.super_.prototype,methods=["enable","disable"],len=methods.length;for(Validation.prototype.name="validation",Validation.prototype.constructor=Validation,Validation.prototype._defaults={offsetX:10},Validation.prototype._init=function(el,options){var that=this;return parent._init.call(this,el,options),this.trigger=this._el,this._configureContainer(),this.conditions={},this._mergeConditions(options.conditions),this._shown=!1,this.error=null,this.on("disable",this.clear),this.on("error",this._handleError),this.form=ch.instances[tiny.parent(that.trigger,"form").getAttribute("data-uid")]||new ch.Form(tiny.parent(that.trigger,"form")),this.form.validations.push(this),this._validationEvent=tiny.hasClass(this.trigger,"ch-form-options")||"SELECT"===this._el.tagName||"INPUT"===this._el.tagName&&"range"===this._el.type?"change":"blur",this},Validation.prototype._mergeConditions=function(conditions){var i=0,j=conditions.length;for(i;i<j;i+=1)this.conditions[conditions[i].name]=new ch.Condition(conditions[i]);return this},Validation.prototype.validate=function(){return this.hasError()?this._error():this._success(),this},Validation.prototype._error=function(){var previousValue,that=this;return tiny.on(this.trigger,this._validationEvent,function(){(previousValue!==this.value||"change"===that._validationEvent&&that.isShown())&&(previousValue=this.value,that.validate()),void 0===that.conditions.required&&""===this.value&&that.clear()}),this.emit("error",this.error),this},Validation.prototype._handleError=function(err){var that=this;that._previousError.condition&&that._shown||("INPUT"!==that._el.nodeName&&"TEXTAREA"!==that._el.nodeName||tiny.addClass(that.trigger,"ch-validation-error"),that._showErrorMessage(err.message||"Error")),err.condition!==that._previousError.condition&&that._showErrorMessage(err.message||that.form._messages[err.condition]||"Error"),that._shown=!0},Validation.prototype._success=function(){return!this._shown&&this._enabled||(this._shown=!1),this.trigger.removeAttribute("aria-label"),tiny.removeClass(this.trigger,"ch-validation-error"),this._hideErrorMessage(),this.emit("success"),this},Validation.prototype.hasError=function(){if(this.trigger.getAttribute("disabled")||!this._enabled)return!1;var condition,required=this.conditions.required,value=this._el.value;if(!required&&""===value&&this._shown===!1)return!1;this._previousError=tiny.clone(this.error);for(condition in this.conditions)if(void 0!==this.conditions[condition]&&!this.conditions[condition].test(value,this))return this.error={condition:condition,message:this.conditions[condition].message},!0;return this.error=null,!1},Validation.prototype.clear=function(){return this.trigger.removeAttribute("aria-label"),tiny.removeClass(this.trigger,"ch-validation-error"),this.error=null,this._hideErrorMessage(),this._shown=!1,this.emit("clear"),this},Validation.prototype.isShown=function(){return this._shown},Validation.prototype.message=function(condition,message){if(void 0===condition)throw new Error("validation.message(condition, message): Please, a condition parameter is required.");return void 0===message?this.conditions[condition].message:(this.conditions[condition].message=message,this.isShown()&&this.error.condition===condition&&this._showErrorMessage(message),this)};len;)createMethods(methods[len-=1]);Validation.prototype.destroy=function(){this.trigger.removeAttribute("data-side data-align"),parent.destroy.call(this)},ch.factory(Validation)}(this,this.ch),function(ch){"use strict";ch.Validation.prototype._configureContainer=function(){var that=this;this.bubble=this._container=new ch.Bubble({reference:that._options.reference||function(){var reference,h4,span,trigger=that.trigger;return tiny.hasClass(trigger,"ch-form-options")?trigger.querySelectorAll("h4").length>0?(h4=trigger.querySelector("h4"),span=document.createElement("span"),span.insertAdjacentHTML("beforeend",h4.innerHTML),h4.innerHTML="",h4.insertBefore(span,h4.firstChild),reference=h4.children[0]):reference=trigger.previousElementSibling&&"LEGEND"===trigger.previousElementSibling.tagName?trigger.previousElementSibling:trigger.querySelector("label"):reference=trigger,reference}(),align:that._options.align,side:that._options.side,offsetY:that._options.offsetY,offsetX:that._options.offsetX})},ch.Validation.prototype._showErrorMessage=function(message){return this.bubble.content(message).show(),this.trigger.setAttribute("aria-label","ch-"+this.bubble.name+"-"+this.bubble.uid),this},ch.Validation.prototype._hideErrorMessage=function(){return this.bubble.hide(),this.trigger.removeAttribute("aria-label"),this},ch.Validation.prototype.refreshPosition=function(options){return void 0===options?this.bubble._position:(this.bubble.refreshPosition(options),this)}}(this.ch),function(window,ch){"use strict";function normalizeOptions(options){return("string"==typeof options||options instanceof HTMLElement)&&(options={content:options}),options}function Expandable(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Expandable,ch.Component);var parent=Expandable.super_.prototype;Expandable.prototype.name="expandable",Expandable.prototype.constructor=Expandable,Expandable.prototype._defaults={_classNameTrigger:"ch-expandable-trigger",_classNameIcon:"ch-expandable-ico",_classNameContainer:"ch-expandable-container",fx:!1,toggle:!0},Expandable.prototype._init=function(el,options){parent._init.call(this,el,options),this.require("Collapsible","Content");var that=this;return this.trigger=this._el,tiny.addClass(this.trigger,this._options._classNameTrigger),tiny.addClass(this.trigger,this._options._classNameIcon),navigator.pointerEnabled&&tiny.on(this._el,"click",function(e){"A"===e.target.tagName&&e.preventDefault()}),tiny.on(this.trigger,ch.onpointertap,function(event){ch.pointerCanceled||(event.preventDefault(),that._options.toggle?that._toggle():that.show())}),this.container=this._content=this._options.container?this._options.container:tiny.next(this._el),tiny.addClass(this.container,this._options._classNameContainer),tiny.addClass(this.container,"ch-hide"),tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1&&tiny.addClass(this.container,"ch-fx"),this.container.setAttribute("aria-expanded","false"),""===this.container.getAttribute("id")&&this.container.setAttribute("id","ch-expandable-"+this.uid),this.trigger.setAttribute("aria-controls",this.container.getAttribute("id")),this.on("show",function(){tiny.trigger(window.document,ch.onlayoutchange)}).on("hide",function(){tiny.trigger(window.document,ch.onlayoutchange)}),this.trigger.setAttribute("unselectable","on"),tiny.addClass(this.trigger,"ch-user-no-select"),this},Expandable.prototype.show=function(content,options){return this._enabled?(this._show(),this.container.setAttribute("aria-expanded","true"),void 0!==content&&this.content(content,options),this):this},Expandable.prototype.hide=function(){return this._enabled?(this._hide(),this.container.setAttribute("aria-expanded","false"),this):this},Expandable.prototype.isShown=function(){return this._shown},Expandable.prototype.destroy=function(){var trigger=this.trigger;["ch-expandable-trigger","ch-expandable-ico","ch-user-no-select"].forEach(function(className){tiny.removeClass(trigger,className)}),this.trigger.removeAttribute("unselectable"),this.trigger.removeAttribute("aria-controls"),tiny.removeClass(this.container,"ch-expandable-container"),tiny.removeClass(this.container,"ch-hide"),this.container.removeAttribute("aria-expanded"),this.container.removeAttribute("aria-hidden"),tiny.trigger(window.document,ch.onlayoutchange),parent.destroy.call(this)},ch.factory(Expandable,normalizeOptions)}(this,this.ch),function(window,ch){"use strict";function Menu(el,options){var that=this;that._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}function createMethods(method){Menu.prototype[method]=function(child){var i,fold=this.folds[child-1];if(fold&&"expandable"===fold.name)fold[method]();else{for(i=this.folds.length;i;)fold=this.folds[i-=1],"expandable"===fold.name&&fold[method]();parent[method].call(this),this._el.setAttribute("aria-disabled",!this._enabled)}return this}}tiny.inherits(Menu,ch.Component);var parent=Menu.super_.prototype,methods=["enable","disable"],len=methods.length;for(Menu.prototype.name="menu",Menu.prototype.constructor=Menu,Menu.prototype._defaults={fx:"slideDown"},Menu.prototype._init=function(el,options){return parent._init.call(this,el,options),this._snippet=this._el.cloneNode(!0),this.container=this._el,this.container.setAttribute("role","navigation"),tiny.addClass(this.container,"ch-menu"),this._options._className?tiny.addClass(this.container,this._options._className):null,this._options.addClass?tiny.addClass(this.container,this._options.addClass):null,this.folds=[],this._createExpandables(),this},Menu.prototype._createExpandables=function(){function createExpandable(li,i){var expandable,menu;tiny.addClass(li,"ch-menu-fold"),child=li.children[0],"A"===child.tagName?(li.setAttribute("role","presentation"),tiny.addClass(child,"ch-fold-trigger"),that.folds.push(child)):(expandable=new ch.Expandable(child,{fx:that._options.fx}),expandable.on("show",function(){that.emit("show",i+1)}).on("hide",function(){that.emit("hide")}),menu=tiny.next(child),menu.setAttribute("role","menu"),Array.prototype.forEach.call(menu.children,function(item){item.setAttribute("role","presentation"),item.children[0]?item.children[0].setAttribute("role","menuitem"):null}),that.folds.push(expandable))}var child,that=this;return Array.prototype.forEach.call(this.container.children,createExpandable),this},Menu.prototype.show=function(child){return this.folds[child-1].show(),this},Menu.prototype.hide=function(child){return this.folds[child-1].hide(),this},Menu.prototype.content=function(fold,content,options){if(void 0===fold||"number"!=typeof fold)throw new window.Error("Menu.content(fold, content, options): Expected number of fold.");return void 0===content?this.folds[fold-1].content():(this.folds[fold-1].content(content,options),this)};len;)createMethods(methods[len-=1]);Menu.prototype.destroy=function(){this.folds.forEach(function(e){void 0!==e.destroy&&e.destroy()}),this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(window.document,ch.onlayoutchange),parent.destroy.call(this)},ch.factory(Menu)}(this,this.ch),function(window,ch){"use strict";function Popover(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Popover,ch.Component);var document=window.document,parent=Popover.super_.prototype,shownbyEvent={pointertap:ch.onpointertap,pointerenter:ch.onpointerenter};Popover.prototype.name="popover",Popover.prototype.constructor=Popover,Popover.prototype._defaults={_ariaRole:"dialog",_className:"",_hideDelay:400,addClass:"",fx:"fadeIn",width:"auto",height:"auto",shownby:"pointertap",hiddenby:"button",waiting:'<div class="ch-loading ch-loading-centered"></div>',position:"absolute",wrapper:!1},Popover.prototype._init=function(el,options){parent._init.call(this,el,options),this.require("Collapsible","Content");var that=this,container=document.createElement("div");return this._configureWrapper(),container.innerHTML=["<div",' class="ch-popover ch-hide '+this._options._className+" "+this._options.addClass+(tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1?" ch-fx":"")+'"',' role="'+this._options._ariaRole+'"',' id="ch-'+this.name+"-"+this.uid+'"',' style="width:'+this._options.width+";height:"+this._options.height+'"',"></div>"].join(""),this.container=container.querySelector("div"),tiny.on(this.container,ch.onpointertap,function(event){event.stopPropagation()}),this._content=document.createElement("div"),tiny.addClass(this._content,"ch-popover-content"),this.container.appendChild(this._content),this._configureTrigger(),this._positioner=new ch.Positioner({target:this.container,reference:this._options.reference,side:this._options.side,align:this._options.align,
offsetX:this._options.offsetX,offsetY:this._options.offsetY,position:this._options.position}),this._refreshPositionListener=function(){return that._shown&&that._positioner.refresh(options),that},this._hideTimer=function(){that._timeout=window.setTimeout(function(){that.hide()},that._options._hideDelay)},this._hideTimerCleaner=function(){window.clearTimeout(that._timeout)},this._configureHiding(),tiny.on(document,ch.onlayoutchange,this._refreshPositionListener),ch.viewport.on(ch.onresize,this._refreshPositionListener),this.once("_show",this._refreshPositionListener).on("_contentchange",this._refreshPositionListener),this},Popover.prototype._configureTrigger=function(){if(void 0!==this._el){var that=this,showHandler=function(){var fn=that._toggle;return"pointerenter"!==that._options.shownby&&"none"!==that._options.hiddenby&&"button"!==that._options.hiddenby||(fn=function(){that._shown||that.show()}),fn}();this._snippet=this._el.cloneNode(!0),this._options.reference=this._options.reference||this._el,"none"!==this._options.shownby&&(tiny.addClass(this._el,"ch-shownby-"+this._options.shownby),this._options.shownby===shownbyEvent.pointertap&&navigator.pointerEnabled&&tiny.on(this._el,"click",function(e){e.preventDefault()}),tiny.on(this._el,shownbyEvent[this._options.shownby],function(event){event.stopPropagation(),event.preventDefault(),showHandler()})),void 0===this._options.content&&("A"===this._el.nodeName&&""!==this._el.href?this._options.content=this._el.href:""===this._el.title&&""===this._el.alt||(this._options.content=this._el.title||this._el.alt,this._el.setAttribute("data-title",this._options.content),this._el.title=this._el.alt="")),this._el.setAttribute("aria-owns","ch-"+this.name+"-"+this.uid),this._el.setAttribute("aria-haspopup","true"),this.trigger=this._el}},Popover.prototype._configureHiding=function(){var dummy,button,that=this,hiddenby=this._options.hiddenby;"none"!==hiddenby&&("pointerleave"===hiddenby&&void 0!==this.trigger&&([this.trigger,this.container].forEach(function(el){tiny.on(el,ch.onpointerenter,that._hideTimerCleaner)}),[this.trigger,this.container].forEach(function(el){tiny.on(el,ch.onpointerleave,that._hideTimer)})),"button"!==hiddenby&&"all"!==hiddenby||(dummy=document.createElement("div"),dummy.innerHTML='<i class="ch-close" role="button" aria-label="Close"></i>',button=dummy.querySelector("i"),tiny.on(button,ch.onpointertap,function(){that.hide()}),this.container.insertBefore(button,this.container.firstChild)),"pointers"!==hiddenby&&"all"!==hiddenby||void 0===this._hidingShortcuts||this._hidingShortcuts())},Popover.prototype._normalizeOptions=function(options){return("string"==typeof options||"object"==typeof options&&1===options.nodeType)&&(options={content:options}),options},Popover.prototype._configureWrapper=function(){var target=this._el||this._options.reference,wrapper=this._options.wrapper;wrapper&&target&&1===target.nodeType?(wrapper=document.createElement("span"),tiny.addClass(wrapper,"ch-popover-wrapper"),"string"==typeof this._options.wrapper&&this._options.wrapper.split(" ").forEach(function(className){tiny.addClass(wrapper,className)}),tiny.parent(target).insertBefore(wrapper,target),wrapper.appendChild(target),"static"===tiny.css(wrapper,"position")&&tiny.css(wrapper,{display:"inline-block",position:"relative"}),this._containerWrapper=wrapper):this._containerWrapper=document.body},Popover.prototype.show=function(content,options){return!this._enabled||this._shown?this:(this._containerWrapper.appendChild(this.container),this._show(),void 0!==content&&this.content(content,options),this)},Popover.prototype.hide=function(){var parent,self=this;return this._enabled&&this._shown?(this.once("hide",function(){parent=self.container.parentNode,null!==parent&&parent.removeChild(self.container)}),this._hide(),this):this},Popover.prototype.isShown=function(){return this._shown},Popover.prototype.width=function(data){return void 0===data?this._options.width:(this.container.style.width=data,this._options.width=data,this.refreshPosition(),this)},Popover.prototype.height=function(data){return void 0===data?this._options.height:(this.container.style.height=data,this._options.height=data,this.refreshPosition(),this)},Popover.prototype.refreshPosition=function(options){return this._shown?this._positioner.refresh(options):this._positioner._configure(options),this},Popover.prototype.enable=function(){return void 0!==this._el&&this._el.setAttribute("aria-disabled",!1),parent.enable.call(this),this},Popover.prototype.disable=function(){return void 0!==this._el&&this._el.setAttribute("aria-disabled",!0),this._shown&&this.hide(),parent.disable.call(this),this},Popover.prototype.destroy=function(){void 0!==this.trigger&&(tiny.off(this.trigger,ch.onpointerenter,this._hideTimerCleaner),tiny.off(this.trigger,ch.onpointerleave,this._hideTimer),tiny.removeClass(this.trigger,"ch-"+this.name+"-trigger"),this.trigger.removeAttribute("data-title"),this.trigger.removeAttribute("aria-owns"),this.trigger.removeAttribute("aria-haspopup"),this.trigger.removeAttribute("data-side"),this.trigger.removeAttribute("data-align"),this.trigger.removeAttribute("role"),this._snippet.alt?this.trigger.setAttribute("alt",this._snippet.alt):null,this._snippet.title?this.trigger.setAttribute("title",this._snippet.title):null),tiny.off(document,ch.onlayoutchange,this._refreshPositionListener),ch.viewport.removeListener(ch.onresize,this._refreshPositionListener),parent.destroy.call(this)},ch.factory(Popover,Popover.prototype._normalizeOptions)}(this,this.ch),function(window,ch){"use strict";var document=window.document;ch.Popover.prototype._hidingShortcuts=function(){function hide(event){event.target!==that._el&&event.target!==that.container&&0===event.button&&that.hide()}var that=this;ch.shortcuts.add(ch.onkeyesc,this.uid,function(){that.hide()}),this.on("show",function(){ch.shortcuts.on(that.uid),tiny.on(document,ch.onpointertap,hide)}).on("hide",function(){ch.shortcuts.off(that.uid),tiny.off(document,ch.onpointertap,hide)}).once("destroy",function(){ch.shortcuts.remove(that.uid,ch.onkeyesc)})}}(this,this.ch),function(window,ch){"use strict";function Layer(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Layer,ch.Popover);var lastShown,parent=Layer.super_.prototype;Layer.prototype.name="layer",Layer.prototype.constructor=Layer,Layer.prototype._defaults=tiny.extend(tiny.clone(parent._defaults),{_className:"ch-layer ch-box-lite ch-cone",_ariaRole:"tooltip",shownby:"pointerenter",hiddenby:"pointerleave",side:"bottom",align:"left",offsetX:0,offsetY:10,waiting:'<div class="ch-loading-small"></div>',wrapper:!1}),Layer.prototype.show=function(content,options){return!this._enabled||this._shown?this:(void 0!==lastShown&&lastShown.name===this.name&&lastShown!==this&&lastShown.hide(),"none"!==this._options.hiddenby&&"button"!==this._options.hiddenby&&(lastShown=this),parent.show.call(this,content,options),this)},ch.factory(Layer,parent._normalizeOptions)}(this,this.ch),function(ch){"use strict";function Tooltip(el,options){return options=tiny.extend(tiny.clone(this._defaults),options),new ch.Layer(el,options)}Tooltip.prototype.name="tooltip",Tooltip.prototype.constructor=Tooltip,Tooltip.prototype._defaults=tiny.extend(tiny.clone(ch.Layer.prototype._defaults),{_className:"ch-tooltip ch-cone"}),ch.factory(Tooltip,ch.Layer.prototype._normalizeOptions)}(this.ch),function(window,ch){"use strict";function Bubble(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Bubble,ch.Popover);var parent=Bubble.super_.prototype;Bubble.prototype.name="bubble",Bubble.prototype.constructor=Bubble,Bubble.prototype._defaults=tiny.extend(tiny.clone(parent._defaults),{_className:"ch-bubble ch-box-icon ch-box-error ch-cone",_ariaRole:"alert",shownby:"none",hiddenby:"none",side:"right",align:"center",offsetX:10,content:"Check the information, please."}),Bubble.prototype._init=function(el,options){return parent._init.call(this,el,options),this.container.insertAdjacentHTML("beforeend",'<i class="ch-icon-remove-sign"></i>'),this},ch.factory(Bubble,parent._normalizeOptions)}(this,this.ch),function(window,ch){"use strict";function Modal(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Modal,ch.Popover);var document=window.document,underlay=function(){var dummyElement=document.createElement("div");return dummyElement.innerHTML='<div class="ch-underlay" tabindex="-1"></div>',dummyElement.querySelector("div")}(),parent=Modal.super_.prototype;Modal.prototype.name="modal",Modal.prototype.constructor=Modal,Modal.prototype._defaults=tiny.extend(tiny.clone(parent._defaults),{_className:"ch-modal ch-box-lite",_ariaRole:"dialog",width:"50%",hiddenby:"all",reference:ch.viewport,waiting:'<div class="ch-loading-large ch-loading-centered"></div>',position:"fixed"}),Modal.prototype._showUnderlay=function(){function showCallback(e){tiny.removeClass(underlay,fxName+"-enter-active"),tiny.removeClass(underlay,fxName+"-enter"),tiny.off(e.target,e.type,showCallback)}var useAnimation=tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1,fxName="ch-fx-"+this._options.fx.toLowerCase();document.body.appendChild(underlay),useAnimation&&(tiny.addClass(underlay,fxName+"-enter"),setTimeout(function(){tiny.addClass(underlay,fxName+"-enter-active")},10),tiny.on(underlay,tiny.support.transition.end,showCallback))},Modal.prototype._hideUnderlay=function(){function hideCallback(e){tiny.removeClass(underlay,fxName+"-leave-active"),tiny.removeClass(underlay,fxName+"-leave"),tiny.off(e.target,e.type,hideCallback),parent.removeChild(underlay)}var useAnimation=tiny.support.transition&&"none"!==this._options.fx&&this._options.fx!==!1,fxName="ch-fx-"+this._options.fx.toLowerCase(),parent=underlay.parentNode;useAnimation?(tiny.addClass(underlay,fxName+"-leave"),setTimeout(function(){tiny.addClass(underlay,fxName+"-leave-active")},10),tiny.on(underlay,tiny.support.transition.end,hideCallback)):parent.removeChild(underlay)},Modal.prototype.show=function(content,options){function hideByUnderlay(e){that.hide(),e.target.removeEventListener(e.type,hideByUnderlay)}if(!this._enabled||this._shown)return this;var that=this;return"all"!==this._options.hiddenby&&"pointers"!==this._options.hiddenby||tiny.on(underlay,ch.onpointertap,hideByUnderlay),this._showUnderlay(),parent.show.call(this,content,options),this},Modal.prototype.hide=function(){return this._shown?(tiny.off(underlay,ch.onpointertap),this._hideUnderlay(),parent.hide.call(this),this):this},ch.factory(Modal,parent._normalizeOptions)}(this,this.ch),function(ch){"use strict";function Transition(el,options){return void 0!==el&&void 0!==options||(options={}),options.content=function(){var dummyElement=document.createElement("div"),content=options.waiting||"";return dummyElement.innerHTML='<div class="ch-loading-large"></div><p>'+content+"</p>",dummyElement.firstChild}(),void 0===el?el=tiny.extend(tiny.clone(this._defaults),options):void 0===el.nodeType&&"object"==typeof el?el=tiny.extend(tiny.clone(this._defaults),el):void 0!==options&&(options=tiny.extend(tiny.clone(this._defaults),options)),new ch.Modal(el,options)}Transition.prototype.name="transition",Transition.prototype.constructor=Transition,Transition.prototype._defaults=tiny.extend(tiny.clone(ch.Modal.prototype._defaults),{_className:"ch-transition ch-box-lite",_ariaRole:"alert",hiddenby:"none",content:"Please wait..."}),ch.factory(Transition,ch.Modal.prototype._normalizeOptions)}(this.ch),function(window,ch){"use strict";function Zoom(selector,options){var that=this;this._init(selector,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}function onImagesLoads(image,callback){var images;images=Array.isArray(image)?image:[image],images.forEach(function(image){if(tiny.on(image,"load",function onImgLoad(){var len=images.length;window.setTimeout(function(){--len<=0&&callback.call(image)},200),image.removeEventListener("load",onImgLoad)},!1),image.complete||void 0===image.complete){var src=image.src;image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",image.src=src}})}tiny.inherits(Zoom,ch.Layer);var parent=Zoom.super_.prototype;Zoom.prototype.name="zoom",Zoom.prototype.constructor=Zoom,Zoom.prototype._defaults=tiny.extend(tiny.clone(parent._defaults),{_className:"ch-zoom",_ariaRole:"tooltip",_hideDelay:0,fx:"none",width:"300px",height:"300px",side:"right",align:"top",offsetX:20,offsetY:0,waiting:"Loading zoom..."}),Zoom.prototype._init=function(selector,options){parent._init.call(this,selector,options);var that=this;return this._loaded=!1,this._loading=function(){var dummyElement=document.createElement("div");return dummyElement.innerHTML='<div class="ch-zoom-loading ch-hide"><div class="ch-loading-large"></div><p>'+that._options.waiting+"</p></div>",dummyElement.firstChild}(),this.trigger.appendChild(this._loading),this._seeker=function(){var dummyElement=document.createElement("div");return dummyElement.innerHTML='<div class="ch-zoom-seeker ch-hide"></div>',dummyElement.firstChild}(),this.trigger.appendChild(this._seeker),this._original=this.trigger.children[0],this._zoomed=new window.Image,onImagesLoads(this._original,function(){that._originalLoaded(),tiny.on(window,"resize",that._updateOffset.bind(that))}),onImagesLoads(this._zoomed,function(){that._zoomedLoaded()}),this.on("imageload",function(){tiny.hasClass(this._loading,"ch-hide")||(that.show(),tiny.addClass(this._loading,"ch-hide"))}),tiny.addClass(this.trigger,"ch-zoom-trigger"),tiny.on(this.trigger,"click",function(event){event.preventDefault()},!1),tiny.on(this.trigger,ch.onpointermove,function(event){that._move(event)},!1),this},Zoom.prototype._originalLoaded=function(){var width=this._original.width,height=this._original.height;this.trigger.style.width=width+"px",this.trigger.style.height=height+"px",this._loading.style.display="block",this._loading.style.left=(width-this._loading.clientWidth)/2+"px",this._loading.style.top=(height-this._loading.clientHeight)/2+"px",this._loading.style.display="",this._originalWidth=width,this._originalHeight=height,this._updateOffset()},Zoom.prototype._updateOffset=function(){var offset=tiny.offset(this._el);this._originalOffsetLeft=offset.left,this._originalOffsetTop=offset.top,this._positioner.refresh()},Zoom.prototype._zoomedLoaded=function(){this._ratioX=this._zoomed.width/this._originalWidth,this._ratioY=this._zoomed.height/this._originalHeight,this._seekerWidth=window.Math.floor(window.parseInt(this._options.width,10)/this._ratioX),this._seekerHeight=window.Math.floor(window.parseInt(this._options.height,10)/this._ratioY),this._seekerHalfWidth=window.Math.floor(this._seekerWidth/2),this._seekerHalfHeight=window.Math.floor(this._seekerHeight/2),this._seeker.style.cssText="width:"+this._seekerWidth+"px;height:"+this._seekerHeight+"px",this.content(this._zoomed),this._loaded=!0,this.emit("imageload")},Zoom.prototype._move=function(event){if(this._enabled&&this._loaded){var x,y,pageX=event.pageX||event.clientX+document.documentElement.scrollLeft,pageY=event.pageY||event.clientY+document.documentElement.scrollTop,seekerLeft=pageX-this._seekerHalfWidth,seekerTop=pageY-this._seekerHalfHeight;x=seekerLeft<=this._originalOffsetLeft?0:pageX+this._seekerHalfWidth>this._originalWidth+this._originalOffsetLeft?this._originalWidth-this._seekerWidth-2:seekerLeft-this._originalOffsetLeft,y=seekerTop<=this._originalOffsetTop?0:pageY+this._seekerHalfHeight>this._originalHeight+this._originalOffsetTop?this._originalHeight-this._seekerHeight-2:seekerTop-this._originalOffsetTop,this._seeker.style.left=x+"px",this._seeker.style.top=y+"px",this._zoomed.style.cssText="left:"+-this._ratioX*x+"px;top:"+-this._ratioY*y+"px"}},Zoom.prototype.show=function(content,options){return!this._enabled||this._shown?this:this._loaded?(tiny.removeClass(this._seeker,"ch-hide"),parent.show.call(this,content,options),this):(tiny.removeClass(this._loading,"ch-hide"),this.loadImage(),this)},Zoom.prototype.hide=function(){return this._shown?this._loaded?(tiny.addClass(this._seeker,"ch-hide"),parent.hide.call(this),this):(tiny.addClass(this._loading,"ch-hide"),this):this},Zoom.prototype.loadImage=function(){return this._zoomed.src=this._el.href,this},Zoom.prototype.destroy=function(){var parentElement;parentElement=tiny.parent(this._seeker),parentElement.removeChild(this._seeker),parent.destroy.call(this)},ch.factory(Zoom,parent._normalizeOptions)}(this,this.ch),function(window,ch){"use strict";function normalizeOptions(options){return("string"==typeof options||Array.isArray(options))&&(options={selected:options}),options}function Calendar(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Calendar,ch.Component);var addZero=function(num){return parseInt(num,10)<10?"0"+num:num},FORMAT_dates={"YYYY/MM/DD":function(date){return[date.year,addZero(date.month),addZero(date.day)].join("/")},"DD/MM/YYYY":function(date){return[addZero(date.day),addZero(date.month),date.year].join("/")},"MM/DD/YYYY":function(date){return[addZero(date.month),addZero(date.day),date.year].join("/")}},createDateObject=function(date){return date="today"===date?new Date:new Date(date),{"native":date,day:date.getDate(),order:date.getDay(),month:date.getMonth()+1,year:date.getFullYear()}},parent=Calendar.super_.prototype;Calendar.prototype.name="calendar",Calendar.prototype.constructor=Calendar,Calendar.prototype._defaults={monthsNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekdays:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],format:"DD/MM/YYYY"},Calendar.prototype._init=function(el,options){parent._init.call(this,el,options);var that=this;return this._snippet=this._el.cloneNode(!0),this._dates={range:{}},this._dates.today=createDateObject("today"),this._dates.current=this._dates.today,this._dates.selected=function(){var selected=that._options.selected;return selected?(Array.isArray(selected)?selected.forEach(function(e,i){Array.isArray(e)?(selected[i][0]="today"!==selected[i][0]?createDateObject(e[0]):that._dates.today,selected[i][1]="today"!==selected[i][1]?createDateObject(e[1]):that._dates.today):selected[i]="today"!==selected[i]?createDateObject(e):that._dates.today}):selected="today"!==selected?that._dates.current=createDateObject(selected):that._dates.today,selected):selected}(),this._dates.today=createDateObject("today"),this._dates.range.from=function(){if(void 0!==that._options.from&&that._options.from)return"today"===that._options.from?that._dates.today:createDateObject(that._options.from)}(),this._dates.range.to=function(){if(void 0!==that._options.to&&that._options.to)return"today"===that._options.to?that._dates.today:createDateObject(that._options.to)}(),this._prev=document.createElement("div"),this._prev.setAttribute("aria-controls","ch-calendar-grid-"+this.uid),this._prev.setAttribute("role","button"),this._prev.setAttribute("aria-hidden","false"),tiny.addClass(this._prev,"ch-calendar-prev"),this._next=document.createElement("div"),this._next.setAttribute("aria-controls","ch-calendar-grid-"+this.uid),this._next.setAttribute("role","button"),this._next.setAttribute("aria-hidden","false"),tiny.addClass(this._next,"ch-calendar-next"),tiny.on(this._prev,ch.onpointertap,function(event){event.preventDefault(),that.prevMonth()}),tiny.on(this._next,ch.onpointertap,function(event){event.preventDefault(),that.nextMonth()}),this.container=this._el,this.container.insertBefore(this._prev,this.container.firstChild),this.container.insertBefore(this._next,this.container.firstChild),tiny.addClass(this.container,"ch-calendar"),this.container.insertAdjacentHTML("beforeend",this._createTemplate(this._dates.current)),this._updateControls(),that.container.setAttribute("unselectable","on"),tiny.addClass(that.container,"ch-user-no-select"),this},Calendar.prototype._hasPrevMonth=function(){return void 0===this._dates.range.from||!(this._dates.range.from.month>=this._dates.current.month&&this._dates.range.from.year>=this._dates.current.year)},Calendar.prototype._hasNextMonth=function(){return void 0===this._dates.range.to||!(this._dates.range.to.month<=this._dates.current.month&&this._dates.range.to.year<=this._dates.current.year)},Calendar.prototype._updateControls=function(){return this._hasPrevMonth()?(tiny.removeClass(this._prev,"ch-hide"),this._prev.setAttribute("aria-hidden","false")):(tiny.addClass(this._prev,"ch-hide"),this._prev.setAttribute("aria-hidden","true")),this._hasNextMonth()?(tiny.removeClass(this._next,"ch-hide"),this._next.setAttribute("aria-hidden","false")):(tiny.addClass(this._next,"ch-hide"),this._next.setAttribute("aria-hidden","true")),this},Calendar.prototype._updateTemplate=function(date){var month;return this._dates.current="string"==typeof date?createDateObject(date):date,month=this.container.querySelector("table"),this.container.removeChild(month),this.container.insertAdjacentHTML("beforeend",this._createTemplate(this._dates.current)),this._updateControls(),this},Calendar.prototype._createTemplate=function(date){var cell,positive,day,isSelected,that=this,thead=function(){var dayIndex,t=['<thead><tr role="row">'];for(dayIndex=0;dayIndex<7;dayIndex+=1)t.push('<th role="columnheader">'+that._defaults.weekdays[dayIndex]+"</th>");return t.push("</tr></thead>"),t.join("")}(),table=['<table class="ch-calendar-month" role="grid" id="ch-calendar-grid-'+that.uid+'">',"<caption>"+that._defaults.monthsNames[date.month-1]+" - "+date.year+"</caption>",thead],cells=function(){var currentMonth=new Date(date.year,date.month,0).getDate(),prevMonth=new Date([date.year,date.month,"01"].join("/")).getDay(),subtotal=prevMonth+currentMonth,latest=subtotal%7,nextMonth=latest>0?7-latest:0;return{previous:prevMonth,subtotal:subtotal,total:subtotal+nextMonth}}();for(table.push('<tbody><tr class="ch-calendar-week" role="row">'),cell=0;cell<cells.total;cell+=1)cell<cells.previous||cell>cells.subtotal-1?table.push('<td role="gridcell" class="ch-calendar-other">X</td>'):(positive=cell+1,day=positive-cells.previous,isSelected=this._isSelected(date.year,date.month,day),table.push('<td role="gridcell"'+(isSelected?' aria-selected="true"':"")+' class="ch-calendar-day',date.year===that._dates.today.year&&date.month===that._dates.today.month&&day===that._dates.today.day?" ch-calendar-today":null,isSelected?" ch-calendar-selected ":null,that._dates.range.from&&day<that._dates.range.from.day&&date.month===that._dates.range.from.month&&date.year===that._dates.range.from.year||that._dates.range.to&&day>that._dates.range.to.day&&date.month===that._dates.range.to.month&&date.year===that._dates.range.to.year?" ch-calendar-disabled":null,'">'+day+"</td>"),positive%7===0&&table.push('</tr><tr class="ch-calendar-week" role="row">'));return table.push("</tr></tbody></table>"),table.join("")},Calendar.prototype._isInRange=function(date){var inRangeFrom=!0,inRangeTo=!0;return this._dates.range.from&&(inRangeFrom=this._dates.range.from["native"]<=date["native"]),this._dates.range.to&&(inRangeTo=this._dates.range.to["native"]>=date["native"]),inRangeFrom&&inRangeTo},Calendar.prototype._isSelected=function(year,month,day){var yepnope;if(this._dates.selected){if(yepnope=!1,Array.isArray(this._dates.selected))this._dates.selected.forEach(function(e){if(Array.isArray(e)){if(year>=e[0].year&&month>=e[0].month&&day>=e[0].day&&year<=e[1].year&&month<=e[1].month&&day<=e[1].day)return yepnope=!0}else if(year===e.year&&month===e.month&&day===e.day)return yepnope=!0});else if(year===this._dates.selected.year&&month===this._dates.selected.month&&day===this._dates.selected.day)return yepnope=!0;return yepnope}},Calendar.prototype.select=function(date){if(!date){if(void 0===this._dates.selected)return;return FORMAT_dates[this._options.format](this._dates.selected)}var newDate=createDateObject(date);return this._isInRange(newDate)?(this._dates.selected="today"===date?this._dates.today:newDate,this._updateTemplate(this._dates.selected),this.emit("select"),this):this},Calendar.prototype.getToday=function(){return FORMAT_dates[this._options.format](this._dates.today)},Calendar.prototype.nextMonth=function(){return this._enabled&&this._hasNextMonth()?(12===this._dates.current.month&&(this._dates.current.month=0,this._dates.current.year+=1),this._updateTemplate([this._dates.current.year,this._dates.current.month+1,"01"].join("/")),this.emit("nextmonth"),this):this},Calendar.prototype.prevMonth=function(){return this._enabled&&this._hasPrevMonth()?(1===this._dates.current.month&&(this._dates.current.month=13,this._dates.current.year-=1),this._updateTemplate([this._dates.current.year,this._dates.current.month-1,"01"].join("/")),this.emit("prevmonth"),this):this},Calendar.prototype.nextYear=function(){return this._enabled&&this._hasNextMonth()?(this._updateTemplate([this._dates.current.year+1,this._dates.current.month,"01"].join("/")),this.emit("nextyear"),this):this},Calendar.prototype.prevYear=function(){return this._enabled&&this._hasPrevMonth()?(this._updateTemplate([this._dates.current.year-1,this._dates.current.month,"01"].join("/")),this.emit("prevyear"),this):this},Calendar.prototype.setFrom=function(date){return this._dates.range.from="auto"===date?void 0:createDateObject(date),this._updateTemplate(this._dates.current),this},Calendar.prototype.setTo=function(date){return this._dates.range.to="auto"===date?void 0:createDateObject(date),this._updateTemplate(this._dates.current),this},Calendar.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(window.document,ch.onlayoutchange),parent.destroy.call(this)},ch.factory(Calendar,normalizeOptions)}(this,this.ch),function(window,ch){"use strict";function Dropdown(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Dropdown,ch.Layer);var parent=Dropdown.super_.prototype;Dropdown.prototype.name="dropdown",Dropdown.prototype.constructor=Dropdown,Dropdown.prototype._defaults=tiny.extend(tiny.clone(parent._defaults),{_className:"ch-dropdown ch-box-lite",_ariaRole:"combobox",fx:"none",shownby:"pointertap",hiddenby:"pointers",offsetY:-1,skin:!1,shortcuts:!0}),Dropdown.prototype._init=function(el,options){parent._init.call(this,el,options);var that=this,content=tiny.next(this.trigger);return this.trigger.setAttribute("aria-activedescendant","ch-dropdown"+this.uid+"-selected"),tiny.addClass(this.trigger,"ch-dropdown-trigger"),this.trigger.setAttribute("unselectable","on"),tiny.addClass(this.trigger,"ch-user-no-select"),this._options.skin?(tiny.addClass(this.trigger,"ch-dropdown-trigger-skin"),tiny.addClass(this.container,"ch-dropdown-skin")):(tiny.addClass(this.trigger,"ch-btn-skin"),tiny.addClass(this.trigger,"ch-btn-small")),this._navigation=function(){var items=content.querySelectorAll("a");return Array.prototype.forEach.call(items,function(item,index){item.setAttribute("role","option"),tiny.on(item,ch.onpointerenter,function(){that._navigation[that._selected=index].focus()})}),items}(),this._options.shortcuts&&void 0!==this._navigationShortcuts&&this._navigationShortcuts(),this._options.content=content,this._snippet=this._options.content.cloneNode(!0),this},Dropdown.prototype.show=function(content,options){return this._enabled?(parent.show.call(this,content,options),this._selected=-1,this):this},Dropdown.prototype.destroy=function(){var trigger=this.trigger;["ch-dropdown-trigger","ch-dropdown-trigger-skin","ch-user-no-select","ch-btn-skin","ch-btn-small"].forEach(function(className){tiny.removeClass(trigger,className)}),trigger.removeAttribute("unselectable"),trigger.removeAttribute("aria-controls"),trigger.insertAdjacentHTML("afterend",this._snippet),tiny.trigger(window.document,ch.onlayoutchange),parent.destroy.call(this)},ch.factory(Dropdown)}(this,this.ch),function(ch){"use strict";ch.Dropdown.prototype._highlightOption=function(key){var optionsLength=this._navigation.length;this._shown&&this._selected!==(key===ch.onkeydownarrow?optionsLength-1:0)&&(this._selected!==-1&&(this._navigation[this._selected].blur(),this._navigation[this._selected].removeAttribute("id")),key===ch.onkeydownarrow?this._selected+=1:this._selected-=1,this._navigation[this._selected].focus(),this._navigation[this._selected].id="ch-dropdown"+this.uid+"-selected")},ch.Dropdown.prototype._navigationShortcuts=function(){var that=this;return ch.shortcuts.add(ch.onkeyuparrow,this.uid,function(event){event.preventDefault(),that._highlightOption(event.shortcut)}),ch.shortcuts.add(ch.onkeydownarrow,this.uid,function(event){event.preventDefault(),that._highlightOption(event.shortcut)}),this.once("destroy",function(){ch.shortcuts.remove(ch.onkeyuparrow,that.uid),ch.shortcuts.remove(ch.onkeydownarrow,that.uid)}),this}}(this.ch),function(window,ch){"use strict";function Tabs(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}function createMethods(method){Tabs.prototype[method]=function(tab){var i;if(void 0!==tab)this.tabpanels[tab-1][method]();else{for(i=this.tabpanels.length;i;)this.tabpanels[i-=1][method]();parent[method].call(this),this._el.setAttribute("aria-disabled",!this._enabled)}return this}}tiny.inherits(Tabs,ch.Component);var parent=Tabs.super_.prototype,location=window.location,methods=["enable","disable"],len=methods.length,hashRegExp=new RegExp("\\#!?\\/?(.[^\\?|\\&|\\s]+)");for(Tabs.prototype.name="tabs",Tabs.prototype.constructor=Tabs,Tabs.prototype._init=function(el,options){parent._init.call(this,el,options);var that=this;return this._currentHash=function(){var hash=location.hash.match(hashRegExp);return null!==hash?hash[1]:""}(),this._snippet=this._el.cloneNode(!0),this.container=this._el,tiny.addClass(this.container,"ch-tabs"),this.triggers=this.container.children[0],this.triggers.setAttribute("role","tablist"),tiny.addClass(this.triggers,"ch-tabs-triggers"),this.tabpanels=[],this.panel=this.container.children[1],this.panel.setAttribute("role","presentation"),tiny.addClass(this.panel,"ch-tabs-panel"),tiny.addClass(this.panel,"ch-box-lite"),this._tabsPanels=this.panel.children,Array.prototype.forEach.call(this.triggers.getElementsByTagName("a"),function(el,index){that._createTab(index,el)}),this._shown=1,this._hasHash(),this},Tabs.prototype._createTab=function(i,e){var tab,that=this,panel=this._tabsPanels[i],options={_classNameIcon:null,_classNameTrigger:"ch-tab",_classNameContainer:"ch-tabpanel",toggle:!1};return void 0===panel&&(panel=document.createElement("div"),panel.setAttribute("id",e.href.split("#")[1]),this.panel.appendChild(panel),options.content=e.href,options.waiting=this._options.waiting,options.cache=this._options.cache,options.method=this._options.method),options.container=panel,tab=new ch.Expandable(e,options),tab._hash=e.href.split("#")[1],tab.trigger.setAttribute("role","tab"),tab.container.setAttribute("role","tabpanel"),tab.on("show",function(){that._updateShown(i+1)}),this.tabpanels.push(tab),this},Tabs.prototype._hasHash=function(){this.emit("hide",this._shown);var i=0,l=this.tabpanels.length;for(i;i<l;i+=1)if(this.tabpanels[i]._hash===this._currentHash){this._shown=i+1;break}return this.tabpanels[this._shown-1].show(),this.emit("show",this._shown),this},Tabs.prototype.show=function(tab){return this.tabpanels[tab-1].show(),this},Tabs.prototype._updateShown=function(tab){return this._shown===tab?this:(this.emit("hide",this._shown),this.tabpanels[this._shown-1].hide(),this._shown=tab,location.hash=this._currentHash=""===this._currentHash?"#!/"+this.tabpanels[this._shown-1]._hash:location.hash.replace(location.hash.match(hashRegExp)[1],this.tabpanels[this._shown-1]._hash),
this.emit("show",this._shown),this)},Tabs.prototype.getShown=function(){return this._shown},Tabs.prototype.content=function(tab,content,options){if(void 0===tab||"number"!=typeof tab)throw new window.Error("Tabs.content(tab, content, options): Expected a number of tab.");return void 0===content?this.tab[tab-1].content():(this.tabpanels[tab-1].content(content,options),this)};len;)createMethods(methods[len-=1]);Tabs.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(window.document,ch.onlayoutchange),parent.destroy.call(this)},ch.factory(Tabs)}(this,this.ch),function(window,ch){"use strict";function Carousel(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Carousel,ch.Component);var pointertap=ch.onpointertap,Math=window.Math,setTimeout=window.setTimeout,parent=Carousel.super_.prototype,VENDOR_PREFIX=function(){var prop,regex=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,styleDeclaration=document.getElementsByTagName("script")[0].style;for(prop in styleDeclaration)if(regex.test(prop))return prop.match(regex)[0].toLowerCase();return"WebkitOpacity"in styleDeclaration?"webkit":"KhtmlOpacity"in styleDeclaration?"khtml":""}();Carousel.prototype.name="carousel",Carousel.prototype.constructor=Carousel,Carousel.prototype._defaults={async:0,arrows:!0,pagination:!1,fx:!0,autoHeight:!0,autoMargin:!0},Carousel.prototype._init=function(el,options){parent._init.call(this,el,options);var that=this;return this._snippet=this._el.cloneNode(!0),this._list=this._el.children[0],tiny.addClass(this._el,"ch-carousel"),tiny.addClass(this._list,"ch-carousel-list"),this._items=function(){var collection=that._list.querySelectorAll("li");return Array.prototype.forEach.call(collection,function(item){tiny.addClass(item,"ch-carousel-item")}),collection}(),this._mask=document.createElement("div"),this._mask.setAttribute("role","tabpanel"),this._mask.setAttribute("class","ch-carousel-mask"),this._mask.appendChild(this._list),this._el.appendChild(this._mask),this._maskWidth=this._getOuterDimensions(this._mask).width,this._itemWidth=this._getOuterDimensions(this._items[0]).width,this._itemOuterWidth=parseInt(tiny.css(this._items[0],"width")),this._itemExtraWidth=0,this._itemHeight=this._getOuterDimensions(this._items[0]).height,this._itemMargin=0,this._arrowsCreated=!1,this._paginationCreated=!1,this._limitPerPage=0,this._currentPage=1,this._pages=0,this._pageWidth=0,this._async=this._options.async,this._prevArrow=document.createElement("div"),this._prevArrow.setAttribute("role","button"),this._prevArrow.setAttribute("aria-hidden","true"),this._prevArrow.setAttribute("class","ch-carousel-prev ch-carousel-disabled"),tiny.on(this._prevArrow,pointertap,function(){that.prev()},!1),this._nextArrow=document.createElement("div"),this._nextArrow.setAttribute("role","button"),this._nextArrow.setAttribute("aria-hidden","true"),this._nextArrow.setAttribute("class","ch-carousel-next"),tiny.on(this._nextArrow,pointertap,function(){that.next()},!1),this._pagination=document.createElement("div"),this._pagination.setAttribute("role","navigation"),this._pagination.setAttribute("class","ch-carousel-pages"),tiny.on(this._pagination,pointertap,function(event){var page=event.target.getAttribute("data-page");null!==page&&that.select(window.parseInt(page,10))},!1),ch.viewport.on("resize",function(){that.refresh()}),this._options.fx||tiny.addClass(this._list,"ch-carousel-nofx"),tiny.support.transition||(this._list.style.cssText+="position:absolute;left:0;"),this._options.pagination&&this._addPagination(),void 0!==this._options.arrows&&this._options.arrows!==!1&&this._addArrows(),this._updateARIA(),this._updateLimitPerPage(),this._updateDistribution(),this},Carousel.prototype._updateARIA=function(){var page,that=this,total=this._items.length+this._async;Array.prototype.forEach.call(this._items,function(item,i){page=Math.floor(i/that._limitPerPage)+1,item.setAttribute("aria-hidden",page!==that._currentPage),item.setAttribute("aria-setsize",total),item.setAttribute("aria-posinset",i+1),item.setAttribute("aria-label","page"+page)})},Carousel.prototype._loadAsyncItems=function(){if(0!==this._async){var total=this._currentPage*this._limitPerPage,amount=total-this._items.length,width=this._itemWidth+this._itemExtraWidth,height=(width*this._itemHeight/this._itemWidth).toFixed(3),item=["<li",' class="ch-carousel-item"',' style="width:'+(width%1===0?width:width.toFixed(4))+"px;",this._options.autoHeight?"height:"+height+"px;":"",this._options.autoMargin?"margin-right:"+(this._itemMargin%1===0?this._itemMargin:this._itemMargin.toFixed(4))+'px"':'"',"></li>"].join(""),items="",counter=0;if(!(amount<1)){for(amount=this._async<amount?this._async:amount;amount;)items+=item,amount-=1,counter+=1;this._list.insertAdjacentHTML("beforeend",items),this._items=this._list.querySelectorAll("li"),this._updateARIA(),this._async-=amount,this.emit("itemsadd",Array.prototype.slice.call(this._items,-counter))}}},Carousel.prototype._addPagination=function(){this._paginationCreated&&this._removePagination();for(var isSelected,that=this,thumbs=[],page=that._pages;page;)isSelected=page===that._currentPage,thumbs.unshift("<span",' role="button"',' aria-selected="'+isSelected+'"',' aria-controls="page'+page+'"',' data-page="'+page+'"',' class="'+(isSelected?"ch-carousel-selected":"")+'"',">"+page+"</span>"),page-=1;that._pagination.innerHTML=thumbs.join(""),that._el.appendChild(that._pagination),that._pagination.setAttribute("unselectable","on"),tiny.addClass(that._pagination,"ch-user-no-select"),that._paginationCreated=!0},Carousel.prototype._removePagination=function(){this._paginationCreated&&(this._pagination.innerHTML="",this._paginationCreated=!1)},Carousel.prototype._standbyFX=function(callback){var that=this;this._options.fx&&tiny.support.transition?(tiny.addClass(this._list,"ch-carousel-nofx"),callback.call(this),setTimeout(function(){tiny.removeClass(that._list,"ch-carousel-nofx")},0)):callback.call(this)},Carousel.prototype._updatePages=function(){this._pages=Math.ceil((this._items.length+this._async)/this._limitPerPage),this._loadAsyncItems(),this._updateARIA(),this._updateArrows(),this._options.pagination&&this._addPagination()},Carousel.prototype._updateLimitPerPage=function(){var firstItemOnPage,max=this._options.limitPerPage,limitPerPage=Math.floor(this._maskWidth/this._itemOuterWidth)||1;void 0!==max&&limitPerPage>max&&(limitPerPage=max),limitPerPage!==this._limitPerPage&&(firstItemOnPage=(this._currentPage-1)*this._limitPerPage+1,this._limitPerPage=limitPerPage,this._updatePages(),this.select(Math.ceil(firstItemOnPage/limitPerPage)))},Carousel.prototype._updateDistribution=function(){var spaces,width,cssItemText,moreThanOne=this._limitPerPage>1,freeSpace=this._maskWidth-this._itemOuterWidth*this._limitPerPage,freeSpaceDistribution=this._options.autoMargin?freeSpace/this._limitPerPage/2:freeSpace/this._limitPerPage,extraWidth=moreThanOne?freeSpaceDistribution:freeSpace;extraWidth===this._itemExtraWidth&&extraWidth>0||(this._itemExtraWidth=extraWidth,spaces=moreThanOne?this._limitPerPage-1:0,width=this._itemWidth+extraWidth,this._itemMargin=this._options.autoMargin&&moreThanOne?freeSpace/spaces/2:0,this._pageWidth=(this._itemOuterWidth+extraWidth+this._itemMargin)*this._limitPerPage,this._standbyFX(function(){this._list.style.cssText=this._list.style.cssText+"; width:"+this._pageWidth*this._pages+"px;"}),cssItemText=["width:"+(width%1===0?width:width.toFixed(4))+"px;",this._options.autoHeight?"height:"+(width*this._itemHeight/this._itemWidth).toFixed(4)+"px;":"",this._options.autoMargin?"margin-right:"+(this._itemMargin%1===0?this._itemMargin:this._itemMargin.toFixed(4))+"px;":""].join(""),Array.prototype.forEach.call(this._items,function(item){item.setAttribute("style",cssItemText)}),this._mask.style.height=this._getOuterDimensions(this._list).height+"px",this._standbyFX(function(){this._translate(-this._pageWidth*(this._currentPage-1))}))},Carousel.prototype._addArrows=function(){[this._prevArrow,this._nextArrow].forEach(function(el){el.setAttribute("unselectable","on"),tiny.addClass(el,"ch-user-no-select")}),this._el.insertBefore(this._prevArrow,this._el.children[0]),this._el.appendChild(this._nextArrow),this._arrowsCreated=!0},Carousel.prototype._disableArrows=function(prev,next){this._prevArrow.setAttribute("aria-disabled",prev),this._prevArrow.setAttribute("aria-hidden",prev),tiny[prev?"addClass":"removeClass"](this._prevArrow,"ch-carousel-disabled"),this._nextArrow.setAttribute("aria-disabled",next),this._nextArrow.setAttribute("aria-hidden",next),tiny[next?"addClass":"removeClass"](this._nextArrow,"ch-carousel-disabled")},Carousel.prototype._updateArrows=function(){this._arrowsCreated&&(1===this._pages?this._disableArrows(!0,!0):1===this._currentPage?this._disableArrows(!0,!1):this._currentPage===this._pages?this._disableArrows(!1,!0):this._disableArrows(!1,!1))},Carousel.prototype._translate=function(){var vendorTransformKey=VENDOR_PREFIX?VENDOR_PREFIX+"Transform":null;return tiny.support.transition?function(displacement){vendorTransformKey&&(this._list.style[vendorTransformKey]="translateX("+displacement+"px)"),this._list.style.transform="translateX("+displacement+"px)"}:function(displacement){this._list.style.left=displacement+"px"}}(),Carousel.prototype._switchPagination=function(from,to){if(this._paginationCreated){var children=this._pagination.children,fromItem=children[from-1],toItem=children[to-1];fromItem.setAttribute("aria-selected",!1),tiny.removeClass(fromItem,"ch-carousel-selected"),toItem.setAttribute("aria-selected",!0),tiny.addClass(toItem,"ch-carousel-selected")}},Carousel.prototype._getOuterDimensions=function(el){var obj=el.getBoundingClientRect();return{width:obj.right-obj.left,height:obj.bottom-obj.top}},Carousel.prototype.refresh=function(){var that=this,maskWidth=this._getOuterDimensions(this._mask).width;return maskWidth!==this._maskWidth&&(this._maskWidth=maskWidth,this._updateLimitPerPage(),this._updateDistribution(),this.emit("refresh")),this._list.children.length!==this._items.length&&(this._items=this._list.querySelectorAll("li"),this._updatePages(),this._currentPage>this._pages&&this._standbyFX(function(){that.select(that._pages)}),this.emit("refresh")),this},Carousel.prototype.select=function(page){return void 0===page?this._currentPage:!this._enabled||page===this._currentPage||page<1||page>this._pages?this:(this._translate(-this._pageWidth*(page-1)),this._switchPagination(this._currentPage,page),this._currentPage=page,this._updateArrows(),this._loadAsyncItems(),this.emit("select"),this)},Carousel.prototype.prev=function(){return this.select(this._currentPage-1),this.emit("prev"),this},Carousel.prototype.next=function(){return this.select(this._currentPage+1),this.emit("next"),this},Carousel.prototype.enable=function(){return this._el.setAttribute("aria-disabled",!1),this._disableArrows(!1,!1),parent.enable.call(this),this},Carousel.prototype.disable=function(){return this._el.setAttribute("aria-disabled",!0),this._disableArrows(!0,!0),parent.disable.call(this),this},Carousel.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),tiny.trigger(window.document,ch.onlayoutchange),parent.destroy.call(this)},ch.factory(Carousel)}(this,this.ch),function(window,ch){"use strict";function normalizeOptions(options){var num=window.parseInt(options,10);return window.isNaN(num)||(options={max:num}),options}function Countdown(el,options){var that=this;this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}tiny.inherits(Countdown,ch.Component);var parent=Countdown.super_.prototype;Countdown.prototype.name="countdown",Countdown.prototype.constructor=Countdown,Countdown.prototype._defaults={plural:"# characters left.",singular:"# character left.",max:500},Countdown.prototype._init=function(el,options){parent._init.call(this,el,options);var message,that=this,messageID="ch-countdown-message-"+that.uid;return this.trigger=this._el,"keyup keypress keydown input paste cut".split(" ").forEach(function(name){tiny.on(that.trigger,name,function(){that._count()})}),that._remaining=that._options.max-that._contentLength(),message=1===that._remaining?that._options.singular:that._options.plural,that.container=function(){var parent=tiny.parent(that._el);return parent.insertAdjacentHTML("beforeend",'<span class="ch-countdown ch-form-hint" id="'+messageID+'">'+message.replace("#",that._remaining)+"</span>"),parent.querySelector("#"+messageID)}(),this.on("disable",this._removeError),this},Countdown.prototype._contentLength=function(){return this._el.value.length},Countdown.prototype._count=function(){if(!this._enabled)return this;var message,length=this._contentLength();return this._remaining=this._options.max-length,length<=this._options.max?this._exceeded&&(this._exceeded=!1,this._removeError()):length>this._options.max&&(this.emit("exceed"),this._exceeded=!0,this.trigger.setAttribute("aria-invalid","true"),tiny.addClass(this.trigger,"ch-validation-error"),tiny.addClass(this.container,"ch-countdown-exceeded")),message=(1!==this._remaining?this._options.plural:this._options.singular).replace(/\#/g,this._remaining),this.container.innerText=message,this},Countdown.prototype._removeError=function(){return tiny.removeClass(this.trigger,"ch-validation-error"),this.trigger.setAttribute("aria-invalid","false"),tiny.removeClass(this.container,"ch-countdown-exceeded"),this},Countdown.prototype.destroy=function(){var parentElement=tiny.parent(this.container);parentElement.removeChild(this.container),tiny.trigger(window.document,ch.onlayoutchange),parent.destroy.call(this)},ch.factory(Countdown,normalizeOptions)}(this,this.ch),function(window,ch){"use strict";function Datepicker(selector,options){var that=this;this._init(selector,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50)}function createMethods(method){Datepicker.prototype[method]=function(){return this._popover[method](),parent[method].call(this),this}}tiny.inherits(Datepicker,ch.Component);var parent=Datepicker.super_.prototype,methods=["enable","disable"],len=methods.length;for(Datepicker.prototype.name="datepicker",Datepicker.prototype.constructor=Datepicker,Datepicker.prototype._defaults={format:"DD/MM/YYYY",side:"bottom",align:"center",hiddenby:"pointers"},Datepicker.prototype._init=function(selector,options){parent._init.call(this,selector,options);var that=this;return this.field=this._el,this.field.insertAdjacentHTML("afterend",'<i role="button" class="ch-datepicker-trigger ch-icon-calendar"></i>'),this.trigger=tiny.next(this.field),this._calendar=new ch.Calendar(document.createElement("div"),options),this._popover=new ch.Popover(this.trigger,{_className:"ch-datepicker ch-cone",_ariaRole:"tooltip",content:this._calendar.container,side:this._options.side,align:this._options.align,offsetX:1,offsetY:10,shownby:"pointertap",hiddenby:this._options.hiddenby}),tiny.on(this._popover._content,ch.onpointertap,function(event){var el=event.target;"TD"===el.nodeName&&el.className.indexOf("ch-calendar-disabled")===-1&&el.className.indexOf("ch-calendar-other")===-1&&that.pick(el.innerHTML)}),this.field.setAttribute("aria-describedby","ch-popover-"+this._popover.uid),this.field.type="text",this.field.value=this._options.selected?this._calendar.select():this.field.value,this.on("disable",this.hide),this},Datepicker.prototype.show=function(){return this._enabled?(this._popover.show(),this.emit("show"),this):this},Datepicker.prototype.hide=function(){return this._popover.hide(),this.emit("hide"),this},Datepicker.prototype.pick=function(day){return this.field.value=[this._calendar._dates.current.year,this._calendar._dates.current.month,day].join("/"),this._popover.hide(),this.select(this.field.value),this},Datepicker.prototype.select=function(date){return date?(this._calendar.select(date),this.field.value=this._calendar.select(),this.emit("select"),this):this._calendar.select()},Datepicker.prototype.getToday=function(){return this._calendar.getToday()},Datepicker.prototype.nextMonth=function(){return this._calendar.nextMonth(),this.emit("nextmonth"),this},Datepicker.prototype.prevMonth=function(){return this._calendar.prevMonth(),this.emit("prevmonth"),this},Datepicker.prototype.nextYear=function(){return this._calendar.nextYear(),this.emit("nextyear"),this},Datepicker.prototype.prevYear=function(){return this._calendar.prevYear(),this.emit("prevyear"),this},Datepicker.prototype.reset=function(){return this.field.value="",this._calendar.reset(),this.emit("reset"),this},Datepicker.prototype.setFrom=function(date){return this._calendar.setFrom(date),this},Datepicker.prototype.setTo=function(date){return this._calendar.setTo(date),this};len;)createMethods(methods[len-=1]);Datepicker.prototype.destroy=function(){tiny.parent(this.trigger).removeChild(this.trigger),this._el.removeAttribute("aria-describedby"),this._el.type="date",this._popover.destroy(),parent.destroy.call(this)},ch.factory(Datepicker)}(this,this.ch),function(window,ch){"use strict";function highlightSuggestion(target){var posinset;return Array.prototype.forEach.call(this._suggestionsList.childNodes,function(e){e.contains(target)&&(posinset=parseInt(target.getAttribute("aria-posinset"),10)-1)}),this._highlighted="number"==typeof posinset?posinset:null,this._toogleHighlighted(),this}function Autocomplete(el,options){var that=this;return this._init(el,options),void 0!==this.initialize&&this.initialize(),window.setTimeout(function(){that.emit("ready")},50),this}var specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};tiny.inherits(Autocomplete,ch.Component);var parent=Autocomplete.super_.prototype,highlightEvent=tiny.support.touch?ch.onpointerdown:"mouseover";Autocomplete.prototype.name="autocomplete",Autocomplete.prototype.constructor=Autocomplete,Autocomplete.prototype._defaults={loadingClass:"ch-autocomplete-loading",highlightedClass:"ch-autocomplete-highlighted",itemClass:"ch-autocomplete-item",addClass:"ch-box-lite ch-autocomplete",side:"bottom",align:"left",html:!1,_hiddenby:"none",keystrokesTime:150,_itemTemplate:'<li class="{{itemClass}}"{{suggestedData}}>{{term}}<i class="ch-icon-arrow-up" data-js="ch-autocomplete-complete-query"></i></li>',wrapper:!1},Autocomplete.prototype._init=function(el,options){var that=this;return parent._init.call(this,el,options),this._options._itemTemplate=this._options._itemTemplate.replace("{{itemClass}}",this._options.itemClass),this._options.html&&(this._options._itemTemplate=this._options._itemTemplate.replace("{{suggestedData}}","")),this._popover=new ch.Popover({reference:this._el,content:this._suggestionsList,side:this._options.side,align:this._options.align,addClass:this._options.addClass,hiddenby:this._options._hiddenby,width:this._el.getBoundingClientRect().width+"px",fx:this._options.fx,wrapper:this._options.wrapper}),this.container=this._popover.container,this.container.setAttribute("aria-hidden","true"),this._suggestionsList=document.createElement("ul"),tiny.addClass(this._suggestionsList,"ch-autocomplete-list"),this.container.appendChild(this._suggestionsList),this._highlightSuggestion=function(event){var target=event.target||event.srcElement,item="LI"===target.nodeName?target:"LI"===target.parentNode.nodeName?target.parentNode:null;null!==item&&highlightSuggestion.call(that,item)},tiny.on(this.container,highlightEvent,this._highlightSuggestion),tiny.on(this.container,ch.onpointertap,function(event){var target=event.target||event.srcElement;return"I"!==target.nodeName||that._options.html?void(("LI"===target.nodeName&&target.className.indexOf(that._options.itemClass)!==-1||"LI"===target.parentElement.nodeName&&target.parentElement.className.indexOf(that._options.itemClass)!==-1)&&that._selectSuggestion()):(event.preventDefault(),that._el.value=that._suggestions[that._highlighted],void that.emit("type",that._el.value))}),this.trigger=this._el,this.trigger.setAttribute("aria-autocomplete","list"),this.trigger.setAttribute("aria-haspopup","true"),this.trigger.setAttribute("aria-owns",this.container.getAttribute("id")),this.trigger.setAttribute("autocomplete","off"),tiny.on(this.trigger,"focus",function(){that._turn("on")}),tiny.on(this.trigger,"blur",function(){that._turn("off")}),this._el!==document.activeElement||this._enabled||this._turn("on"),this._highlighted=null,this._suggestions=[],this._originalQuery=this._currentQuery=this._el.value,void 0!==this._configureShortcuts&&this._configureShortcuts(),this},Autocomplete.prototype._turn=function(turn){function turnOn(){that._currentQuery=that._el.value.trim(),window.clearTimeout(that._stopTyping),that._stopTyping=window.setTimeout(function(){tiny.addClass(that.trigger,that._options.loadingClass),that.emit("type",that._currentQuery)},that._options.keystrokesTime)}function turnOnFallback(e){specialKeyCodeMap[e.which||e.keyCode]||setTimeout(turnOn,1)}var that=this;if(!this._enabled)return this;this._originalQuery=this._el.value;var ua=navigator.userAgent,MSIE=!!/(msie|trident)/i.test(ua)&&ua.match(/(msie |rv:)(\d+(.\d+)?)/i)[2];return"on"===turn?!MSIE||MSIE>9?tiny.on(this.trigger,ch.onkeyinput,turnOn):"keydown cut paste".split(" ").forEach(function(evtName){tiny.on(that.trigger,evtName,turnOnFallback)}):"off"===turn&&(this.hide(),!MSIE||MSIE>9?tiny.off(this.trigger,ch.onkeyinput,turnOn):"keydown cut paste".split(" ").forEach(function(evtName){tiny.off(that.trigger,evtName,turnOnFallback)})),this},Autocomplete.prototype._selectSuggestion=function(){return window.clearTimeout(this._stopTyping),null===this._highlighted?this:(this._options.html||(this._el.value=this._suggestions[this._highlighted]),this._el.blur(),this.emit("select"),this)},Autocomplete.prototype._toogleHighlighted=function(){var current=null===this._highlighted?null:this._highlighted+1,currentItem=this.container.querySelector('[aria-posinset="'+current+'"]'),selectedItem=this.container.querySelector("[aria-posinset]."+this._options.highlightedClass);return null!==selectedItem&&tiny.removeClass(selectedItem,this._options.highlightedClass),null!==currentItem&&tiny.addClass(currentItem,this._options.highlightedClass),this},Autocomplete.prototype.suggest=function(suggestions){var itemDOMCollection,suggestedItem,term,el,that=this,items=[],matchedRegExp=new RegExp("("+this._currentQuery.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")+")","ig"),totalItems=0,itemTemplate=this._options._itemTemplate,suggestionsLength=suggestions.length,itemSelected=this.container.querySelector("."+this._options.highlightedClass);if(tiny.removeClass(this.trigger,that._options.loadingClass),0===suggestionsLength)return this._popover.hide(),this;for(this._popover.isShown()||window.document.activeElement!==this._el||this._popover.show(),null!==itemSelected&&tiny.removeClass(itemSelected,this._options.highlightedClass),suggestedItem=0;suggestedItem<suggestionsLength;suggestedItem+=1)term=suggestions[suggestedItem],that._options.html||(term=term.replace(matchedRegExp,"<strong>$1</strong>"),itemTemplate=this._options._itemTemplate.replace("{{suggestedData}}",' data-suggested="'+suggestions[suggestedItem]+'"')),items.push(itemTemplate.replace("{{term}}",term));for(this._suggestionsList.innerHTML=items.join(""),itemDOMCollection=this.container.querySelectorAll("."+this._options.itemClass),totalItems=itemDOMCollection.length,this._suggestions.length=0,suggestedItem=0;suggestedItem<totalItems;suggestedItem+=1)el=itemDOMCollection[suggestedItem],that._suggestions.push(el.getAttribute("data-suggested")),el.setAttribute("aria-posinset",that._suggestions.length),el.setAttribute("aria-setsize",totalItems);return this._highlighted=null,this._suggestionsQuantity=this._suggestions.length,this},Autocomplete.prototype.hide=function(){return this._enabled?(this._popover.hide(),this.emit("hide"),this):this},Autocomplete.prototype.isShown=function(){return this._popover.isShown()},Autocomplete.prototype.disable=function(){return this.isShown()&&(this.hide(),this._el.blur()),parent.disable.call(this),this},Autocomplete.prototype.destroy=function(){tiny.off(this.container,highlightEvent,this._highlightSuggestion),this.trigger.removeAttribute("autocomplete"),this.trigger.removeAttribute("aria-autocomplete"),this.trigger.removeAttribute("aria-haspopup"),this.trigger.removeAttribute("aria-owns"),this._popover.destroy(),parent.destroy.call(this)},ch.factory(Autocomplete)}(this,this.ch),function(Autocomplete,ch){"use strict";Autocomplete.prototype._configureShortcuts=function(){var that=this;return ch.shortcuts.add(ch.onkeyenter,this.uid,function(event){event.preventDefault(),that._selectSuggestion()}),ch.shortcuts.add(ch.onkeyesc,this.uid,function(){that.hide(),that._el.value=that._originalQuery}),ch.shortcuts.add(ch.onkeyuparrow,this.uid,function(event){event.preventDefault();var value;null===that._highlighted?(that._highlighted=that._suggestionsQuantity-1,value=that._suggestions[that._highlighted]):that._highlighted<=0?(this._prevHighlighted=this._currentHighlighted=null,value=that._currentQuery):(that._highlighted-=1,value=that._suggestions[that._highlighted]),that._toogleHighlighted(),that._options.html||(that._el.value=value)}),ch.shortcuts.add(ch.onkeydownarrow,this.uid,function(){var value;null===that._highlighted?(that._highlighted=0,value=that._suggestions[that._highlighted]):that._highlighted>=that._suggestionsQuantity-1?(that._highlighted=null,value=that._currentQuery):(that._highlighted+=1,value=that._suggestions[that._highlighted]),that._toogleHighlighted(),that._options.html||(that._el.value=value)}),this._popover.on("show",function(){ch.shortcuts.on(that.uid)}),this._popover.on("hide",function(){ch.shortcuts.off(that.uid)}),this.on("destroy",function(){ch.shortcuts.remove(this.uid)}),this}}(this.ch.Autocomplete,this.ch);
function qS(selector){return document.querySelector(selector)}window.addEventListener("load",function(e){var zoom=new ch.Zoom(qS("#zoom-default"),{offsetX:0,offsetY:0});zoom.container.style.height="500px",zoom.container.style.width="400px";new ch.Carousel(qS("#carousel"),{limitPerPage:3})},!1);